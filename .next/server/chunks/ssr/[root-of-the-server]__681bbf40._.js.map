{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,iKAAA,CAAA,WAAwB;AAE9C,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qIACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,iKAAA,CAAA,WAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,8OAAC,iKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;AACA,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,SAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sgBACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,iKAAA,CAAA,SAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,8OAAC,4LAAA,CAAA,IAAC;YAAC,WAAU;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,iKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG,iKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,iKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAYO,SAAS;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IAE1B,qBACE,8OAAC,iIAAA,CAAA,gBAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,8OAAC,iIAAA,CAAA,QAAK;oBAAW,GAAG,KAAK;;sCACvB,8OAAC;4BAAI,WAAU;;gCACZ,uBAAS,8OAAC,iIAAA,CAAA,aAAU;8CAAE;;;;;;gCACtB,6BACC,8OAAC,iIAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,8OAAC,iIAAA,CAAA,aAAU;;;;;;mBARD;;;;;YAWhB;0BACA,8OAAC,iIAAA,CAAA,gBAAa;;;;;;;;;;;AAGpB","debugId":null}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,kKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,kKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,kKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,kKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,aAAa,WAAW,GAAG,kKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,kKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG,kKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,kKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 832, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/Header.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from 'next/link';\nimport {\n  BookOpenCheck,\n  Menu,\n  Search,\n  ShoppingCart,\n  User,\n  LogIn,\n  LogOut,\n  Library,\n  LayoutDashboard,\n  Home,\n  Book,\n  Wand2,\n  Settings,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetDescription,\n  SheetTrigger,\n} from '@/components/ui/sheet';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport type { UserRole } from '@/lib/types';\n\n\nconst navLinksConfig = {\n    reader: [\n        { href: '/reader/dashboard', label: 'Dashboard', icon: LayoutDashboard },\n        { href: '/books', label: 'Browse Books', icon: Book },\n        { href: '/ai/suggestions?role=reader', label: 'AI Suggestions', icon: Wand2 },\n    ],\n    author: [\n        { href: '/author/dashboard', label: 'Dashboard', icon: LayoutDashboard },\n        { href: '/ai/suggestions?role=author', label: 'AI Book Ideas', icon: Wand2 },\n    ],\n    guest: [\n        { href: '/', label: 'Home', icon: Home },\n    ]\n}\n\ntype UserInfo = {\n    firstName: string;\n    lastName: string;\n    role: UserRole;\n}\n\nexport default function Header() {\n  const [user, setUser] = useState<UserInfo | null>(null);\n  const [hasMounted, setHasMounted] = useState(false);\n  const [cartCount, setCartCount] = useState(0);\n  const router = useRouter();\n\n  useEffect(() => {\n    \n    const updateUserState = () => {\n        try {\n          const loggedInUser = localStorage.getItem('loggedInUser');\n          if (loggedInUser) {\n              setUser(JSON.parse(loggedInUser));\n          } else {\n              setUser(null);\n          }\n        } catch (error) {\n            setUser(null);\n        }\n    };\n\n    const updateCartCount = () => {\n        try {\n            const cart = JSON.parse(localStorage.getItem('cart') || '[]');\n            setCartCount(cart.length);\n        } catch (error)\n        {\n            setCartCount(0);\n        }\n    };\n    \n    updateUserState();\n    updateCartCount();\n    setHasMounted(true);\n\n\n    const handleStorageChange = (event: StorageEvent) => {\n        if (event.key === 'loggedInUser' || event.key === null) { \n            updateUserState();\n        }\n        if (event.key === 'cart' || event.key === null) {\n            updateCartCount();\n        }\n    }\n    \n    window.addEventListener('storage', handleStorageChange);\n    \n    const handleCartUpdate = () => {\n        updateCartCount();\n    }\n    window.addEventListener('cartUpdated', handleCartUpdate);\n\n\n    return () => {\n        window.removeEventListener('storage', handleStorageChange);\n        window.removeEventListener('cartUpdated', handleCartUpdate);\n    }\n  }, []);\n\n\n  const handleLogout = () => {\n    localStorage.removeItem('loggedInUser');\n    window.dispatchEvent(new StorageEvent('storage', { key: 'loggedInUser', newValue: null }));\n    router.push('/');\n  };\n\n  const handleSearch = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const searchQuery = formData.get('search') as string;\n    router.push(`/books?q=${encodeURIComponent(searchQuery || '')}`);\n  };\n  \n  const role = user?.role;\n  const navLinks = hasMounted && role ? navLinksConfig[role] : navLinksConfig.guest;\n  const homePath = hasMounted && role ? (role === 'author' ? '/author/dashboard' : '/reader/dashboard') : '/';\n  \n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"container flex h-16 items-center\">\n        <div className=\"mr-4 hidden md:flex\">\n          <Link href={homePath} className=\"mr-6 flex items-center space-x-2\">\n            <BookOpenCheck className=\"h-6 w-6 text-primary\" />\n            <span className=\"hidden font-bold sm:inline-block font-headline\">\n              ShelfWise\n            </span>\n          </Link>\n          <nav className=\"flex items-center space-x-6 text-sm font-medium\">\n              {navLinks.map((link) => (\n              <Link\n                  key={link.href}\n                  href={link.href}\n                  className=\"transition-colors hover:text-primary\"\n              >\n                  {link.label}\n              </Link>\n              ))}\n          </nav>\n        </div>\n\n        <div className=\"flex flex-1 items-center justify-between space-x-2 md:justify-end\">\n          <div className=\"w-full flex-1 md:w-auto md:flex-none\">\n            {/* Mobile Nav */}\n            <Sheet>\n              <SheetTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" className=\"md:hidden\">\n                  <Menu className=\"h-5 w-5\" />\n                  <span className=\"sr-only\">Toggle Menu</span>\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"left\">\n                <SheetHeader>\n                   <Link href={homePath} className=\"flex items-center space-x-2\">\n                      <BookOpenCheck className=\"h-6 w-6 text-primary\" />\n                      <SheetTitle className=\"font-headline\">ShelfWise</SheetTitle>\n                   </Link>\n                   <SheetDescription>\n                       Navigate the ShelfWise platform.\n                   </SheetDescription>\n                </SheetHeader>\n                {hasMounted && (\n                    <nav className=\"mt-6 flex flex-col space-y-4\">\n                    {navLinks.map((link) => (\n                        <Link\n                        key={link.href}\n                        href={link.href}\n                        className=\"transition-colors hover:text-primary\"\n                        >\n                        {link.label}\n                        </Link>\n                    ))}\n                    </nav>\n                )}\n              </SheetContent>\n            </Sheet>\n          </div>\n          \n          {hasMounted && role === 'reader' && (\n             <form onSubmit={handleSearch} className=\"relative flex-1 md:grow-0\">\n                <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <Input\n                type=\"search\"\n                name=\"search\"\n                placeholder=\"Search books...\"\n                className=\"w-full rounded-lg bg-secondary pl-8 md:w-[200px] lg:w-[320px]\"\n                />\n            </form>\n          )}\n\n\n          <nav className=\"flex items-center\">\n            {hasMounted && role === 'reader' && (\n                <Button variant=\"ghost\" size=\"icon\" asChild>\n                    <Link href=\"/cart\" className=\"relative\">\n                        <ShoppingCart className=\"h-5 w-5\" />\n                        {cartCount > 0 && (\n                             <span className=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground\">\n                                {cartCount}\n                            </span>\n                        )}\n                        <span className=\"sr-only\">Shopping Cart</span>\n                    </Link>\n                </Button>\n            )}\n            \n            {hasMounted && (\n                <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                        <Button variant=\"ghost\" size=\"icon\">\n                        <User className=\"h-5 w-5\" />\n                        <span className=\"sr-only\">User Menu</span>\n                        </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent align=\"end\">\n                        {user ? (\n                        <>\n                            <DropdownMenuLabel>Welcome, {user.firstName}!</DropdownMenuLabel>\n                            <DropdownMenuSeparator />\n                            {user.role === 'reader' ? (\n                            <>\n                                <DropdownMenuItem asChild>\n                                <Link href=\"/reader/dashboard\">\n                                    <LayoutDashboard className=\"mr-2 h-4 w-4\" />\n                                    <span>Dashboard</span>\n                                </Link>\n                                </DropdownMenuItem>\n                                <DropdownMenuItem asChild>\n                                <Link href=\"/reader/library\">\n                                    <Library className=\"mr-2 h-4 w-4\" />\n                                    <span>My Library</span>\n                                </Link>\n                                </DropdownMenuItem>\n                            </>\n                            ) : ( // Author links\n                            <DropdownMenuItem asChild>\n                                <Link href=\"/author/dashboard\">\n                                <LayoutDashboard className=\"mr-2 h-4 w-4\" />\n                                <span>Dashboard</span>\n                                </Link>\n                            </DropdownMenuItem>\n                            )}\n                            <DropdownMenuItem asChild>\n                            <Link href=\"/settings\">\n                                <Settings className=\"mr-2 h-4 w-4\" />\n                                <span>Settings</span>\n                            </Link>\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem onClick={handleLogout}>\n                                <LogOut className=\"mr-2 h-4 w-4\" />\n                                <span>Logout</span>\n                            </DropdownMenuItem>\n                        </>\n                        ) : ( // Guest links\n                        <>\n                            <DropdownMenuLabel>Welcome</DropdownMenuLabel>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem asChild>\n                            <Link href=\"/login\">\n                                <LogIn className=\"mr-2 h-4 w-4\" />\n                                <span>Login</span>\n                            </Link>\n                            </DropdownMenuItem>\n                            <DropdownMenuItem asChild>\n                            <Link href=\"/register\">\n                                <User className=\"mr-2 h-4 w-4\" />\n                                <span>Register</span>\n                            </Link>\n                            </DropdownMenuItem>\n                        </>\n                        )}\n                    </DropdownMenuContent>\n                </DropdownMenu>\n            )}\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1534, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,mKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,mKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1570, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/Footer.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport Link from \"next/link\";\nimport { BookOpenCheck } from \"lucide-react\";\nimport {\n    Tooltip,\n    TooltipContent,\n    TooltipProvider,\n    TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\n\nconst InstagramIcon = (props: React.SVGProps<SVGSVGElement>) => (\n    <svg\n      {...props}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <rect width=\"20\" height=\"20\" x=\"2\" y=\"2\" rx=\"5\" ry=\"5\" />\n      <path d=\"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z\" />\n      <line x1=\"17.5\" x2=\"17.51\" y1=\"6.5\" y2=\"6.5\" />\n    </svg>\n);\n\nconst GithubIcon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    {...props}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\" />\n    <path d=\"M9 18c-4.51 2-5-2-7-2\" />\n  </svg>\n);\n\nconst ClashOfClansIcon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg \n    {...props}\n    xmlns=\"http://www.w3.org/2000/svg\" \n    width=\"24\" \n    height=\"24\" \n    viewBox=\"0 0 24 24\"\n    fill=\"currentColor\"\n    stroke=\"#D4AF37\"\n    strokeWidth=\"1\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3z\" fill=\"#4a4a4a\"/>\n    <path d=\"M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3z\" stroke=\"#C0C0C0\" strokeWidth=\"0.5\" fill=\"none\"/>\n    <path d=\"M12 12l3-1.5-3-1.5-3 1.5 3 1.5z\" fill=\"#D4AF37\" />\n    <path d=\"M12 12v4l3 1.5v-4l-3-1.5z\" fill=\"#B8860B\" />\n    <path d=\"M12 12v4l-3 1.5v-4l3-1.5z\" fill=\"#DAA520\" />\n </svg>\n);\n\n\nexport default function Footer() {\n  const [year, setYear] = useState(new Date().getFullYear());\n  \n  useEffect(() => {\n      setYear(new Date().getFullYear());\n  }, []);\n\n  return (\n    <footer className=\"bg-secondary border-t\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex flex-col items-center justify-between md:flex-row\">\n          <div className=\"flex items-center space-x-2 mb-4 md:mb-0\">\n            <BookOpenCheck className=\"h-6 w-6 text-primary\" />\n            <span className=\"text-lg font-bold font-headline\">ShelfWise</span>\n          </div>\n          <p className=\"text-sm text-muted-foreground\">\n             {year} ShelfWise. All rights reserved.\n          </p>\n          <TooltipProvider>\n            <div className=\"flex items-center space-x-4 mt-4 md:mt-0\">\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Link\n                            href=\"https://link.clashofclans.com/en?action=OpenPlayerProfile&tag=G0LPLP8J0\"\n                            className=\"text-muted-foreground hover:text-foreground transition-transform duration-300 hover:scale-110\"\n                        >\n                            <ClashOfClansIcon className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">Clash of Clans</span>\n                        </Link>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                        <p>My Clash Of Clans Account....</p>\n                    </TooltipContent>\n                </Tooltip>\n\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                         <Link\n                            href=\"https://www.instagram.com/debadyutidey7?igsh=eGdlYm93c3ZxYjUy\"\n                            className=\"text-muted-foreground hover:text-foreground transition-transform duration-300 hover:scale-110\"\n                            >\n                            <InstagramIcon className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">Instagram</span>\n                        </Link>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                        <p>My Instagram Account....</p>\n                    </TooltipContent>\n                </Tooltip>\n\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Link\n                            href=\"https://github.com/debadyutidey007/Book_Store_Management\"\n                            className=\"text-muted-foreground hover:text-foreground transition-transform duration-300 hover:scale-110\"\n                        >\n                            <GithubIcon className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">GitHub</span>\n                        </Link>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                        <p>My GitHub Account....</p>\n                    </TooltipContent>\n                </Tooltip>\n            </div>\n          </TooltipProvider>\n        </div>\n      </div>\n    </footer>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2088, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase only if no apps are already initialized\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\nexport default app;"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ,QAAQ,GAAG,CAAC,4BAA4B;IAChD,YAAY,QAAQ,GAAG,CAAC,gCAAgC;IACxD,WAAW,QAAQ,GAAG,CAAC,+BAA+B;IACtD,eAAe,QAAQ,GAAG,CAAC,mCAAmC;IAC9D,mBAAmB,QAAQ,GAAG,CAAC,wCAAwC;IACvE,OAAO,QAAQ,GAAG,CAAC,2BAA2B;AAChD;AAEA,8DAA8D;AAC9D,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,KAAK,IAAI,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE,kBAAkB,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,GAAG,CAAC,EAAE;AAE1E,MAAM,OAAO,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,6LAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,UAAU,CAAA,GAAA,oLAAA,CAAA,aAAU,AAAD,EAAE;uCACnB","debugId":null}},
    {"offset": {"line": 2126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/database.ts"],"sourcesContent":["import { \r\n  collection, \r\n  doc, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  getDoc, \r\n  getDocs, \r\n  query, \r\n  where, \r\n  orderBy, \r\n  limit,\r\n  increment,\r\n  serverTimestamp,\r\n  QuerySnapshot,\r\n  DocumentData\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { \r\n  User, \r\n  Book, \r\n  Order, \r\n  Review, \r\n  Follow, \r\n  Transaction, \r\n  AuthorAnalytics, \r\n  ReviewConversation \r\n} from './types';\r\n\r\n// User Management\r\nexport const createUser = async (userData: Omit<User, 'id'>) => {\r\n  try {\r\n    const docRef = await addDoc(collection(db, 'users'), {\r\n      ...userData,\r\n      createdAt: serverTimestamp(),\r\n      isActive: true,\r\n      followedAuthors: userData.role === 'reader' ? [] : undefined,\r\n      purchasedBooks: userData.role === 'reader' ? [] : undefined,\r\n      authorVerified: userData.role === 'author' ? false : undefined,\r\n      totalBooks: userData.role === 'author' ? 0 : undefined,\r\n      totalSales: userData.role === 'author' ? 0 : undefined,\r\n      totalRevenue: userData.role === 'author' ? 0 : undefined,\r\n    });\r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error creating user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserByEmail = async (email: string): Promise<User | null> => {\r\n  try {\r\n    const q = query(collection(db, 'users'), where('email', '==', email));\r\n    const querySnapshot = await getDocs(q);\r\n    \r\n    if (querySnapshot.empty) {\r\n      return null;\r\n    }\r\n    \r\n    const userDoc = querySnapshot.docs[0];\r\n    return { id: userDoc.id, ...userDoc.data() } as User;\r\n  } catch (error) {\r\n    console.error('Error getting user by email:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserById = async (userId: string): Promise<User | null> => {\r\n  try {\r\n    const userDoc = await getDoc(doc(db, 'users', userId));\r\n    if (!userDoc.exists()) {\r\n      return null;\r\n    }\r\n    return { id: userDoc.id, ...userDoc.data() } as User;\r\n  } catch (error) {\r\n    console.error('Error getting user by ID:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (userId: string, updates: Partial<User>) => {\r\n  try {\r\n    await updateDoc(doc(db, 'users', userId), updates);\r\n  } catch (error) {\r\n    console.error('Error updating user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Book Management\r\nexport const createBook = async (bookData: Omit<Book, 'id'>) => {\r\n  try {\r\n    const docRef = await addDoc(collection(db, 'books'), {\r\n      ...bookData,\r\n      publishedAt: serverTimestamp(),\r\n      sales: 0,\r\n      revenue: 0,\r\n      averageRating: 0,\r\n      totalReviews: 0,\r\n    });\r\n    \r\n    // Update author's book count\r\n    await updateDoc(doc(db, 'users', bookData.authorId), {\r\n      totalBooks: increment(1)\r\n    });\r\n    \r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error creating book:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBooksByAuthor = async (authorId: string): Promise<Book[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, 'books'), \r\n      where('authorId', '==', authorId),\r\n      orderBy('publishedAt', 'desc')\r\n    );\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Book));\r\n  } catch (error) {\r\n    console.error('Error getting books by author:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getAllBooks = async (): Promise<Book[]> => {\r\n  try {\r\n    const q = query(collection(db, 'books'), orderBy('publishedAt', 'desc'));\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Book));\r\n  } catch (error) {\r\n    console.error('Error getting all books:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBookById = async (bookId: string): Promise<Book | null> => {\r\n  try {\r\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\r\n    if (!bookDoc.exists()) {\r\n      return null;\r\n    }\r\n    return { id: bookDoc.id, ...bookDoc.data() } as Book;\r\n  } catch (error) {\r\n    console.error('Error getting book by ID:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateBook = async (bookId: string, updates: Partial<Book>) => {\r\n  try {\r\n    await updateDoc(doc(db, 'books', bookId), updates);\r\n  } catch (error) {\r\n    console.error('Error updating book:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Order Management\r\nexport const createOrder = async (orderData: Omit<Order, 'id'>) => {\r\n  try {\r\n    const docRef = await addDoc(collection(db, 'orders'), {\r\n      ...orderData,\r\n      createdAt: serverTimestamp(),\r\n    });\r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error creating order:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateOrderStatus = async (orderId: string, status: Order['status'], paymentId?: string) => {\r\n  try {\r\n    const updates: any = { status };\r\n    if (paymentId) {\r\n      updates.paymentId = paymentId;\r\n    }\r\n    if (status === 'completed') {\r\n      updates.completedAt = serverTimestamp();\r\n    }\r\n    \r\n    await updateDoc(doc(db, 'orders', orderId), updates);\r\n    \r\n    // If order is completed, update book sales and user purchased books\r\n    if (status === 'completed') {\r\n      const orderDoc = await getDoc(doc(db, 'orders', orderId));\r\n      if (orderDoc.exists()) {\r\n        const order = orderDoc.data() as Order;\r\n        \r\n        // Update each book's sales and revenue\r\n        for (const item of order.books) {\r\n          await updateDoc(doc(db, 'books', item.bookId), {\r\n            sales: increment(item.quantity),\r\n            revenue: increment(item.price * item.quantity),\r\n            stock: increment(-item.quantity)\r\n          });\r\n          \r\n          // Get book to update author stats\r\n          const bookDoc = await getDoc(doc(db, 'books', item.bookId));\r\n          if (bookDoc.exists()) {\r\n            const book = bookDoc.data() as Book;\r\n            await updateDoc(doc(db, 'users', book.authorId), {\r\n              totalSales: increment(item.quantity),\r\n              totalRevenue: increment(item.price * item.quantity)\r\n            });\r\n          }\r\n        }\r\n        \r\n        // Update user's purchased books\r\n        const purchasedBookIds = order.books.map(item => item.bookId);\r\n        const userDoc = await getDoc(doc(db, 'users', order.userId));\r\n        if (userDoc.exists()) {\r\n          const user = userDoc.data() as User;\r\n          const updatedPurchasedBooks = [...(user.purchasedBooks || []), ...purchasedBookIds];\r\n          await updateDoc(doc(db, 'users', order.userId), {\r\n            purchasedBooks: updatedPurchasedBooks\r\n          });\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Error updating order status:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserOrders = async (userId: string): Promise<Order[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, 'orders'), \r\n      where('userId', '==', userId),\r\n      orderBy('createdAt', 'desc')\r\n    );\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Order));\r\n  } catch (error) {\r\n    console.error('Error getting user orders:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Review Management\r\nexport const createReview = async (reviewData: Omit<Review, 'id'>) => {\r\n  try {\r\n    const docRef = await addDoc(collection(db, 'reviews'), {\r\n      ...reviewData,\r\n      createdAt: new Date().toISOString(),\r\n    });\r\n    \r\n    // Update book's review stats\r\n    const bookReviews = await getBookReviews(reviewData.bookId);\r\n    const totalRating = bookReviews.reduce((sum, review) => sum + review.rating, 0) + reviewData.rating;\r\n    const totalReviews = bookReviews.length + 1;\r\n    const averageRating = totalRating / totalReviews;\r\n    \r\n    await updateDoc(doc(db, 'books', reviewData.bookId), {\r\n      totalReviews: totalReviews,\r\n      averageRating: averageRating\r\n    });\r\n    \r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error creating review:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBookReviews = async (bookId: string): Promise<Review[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, 'reviews'), \r\n      where('bookId', '==', bookId),\r\n      orderBy('createdAt', 'desc')\r\n    );\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Review));\r\n  } catch (error) {\r\n    console.error('Error getting book reviews:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateReview = async (reviewId: string, updates: Partial<Review>) => {\r\n  try {\r\n    await updateDoc(doc(db, 'reviews', reviewId), updates);\r\n  } catch (error) {\r\n    console.error('Error updating review:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Follow Management\r\nexport const followAuthor = async (readerId: string, authorId: string) => {\r\n  try {\r\n    // Check if already following\r\n    const q = query(\r\n      collection(db, 'follows'),\r\n      where('readerId', '==', readerId),\r\n      where('authorId', '==', authorId)\r\n    );\r\n    const existingFollow = await getDocs(q);\r\n    \r\n    if (!existingFollow.empty) {\r\n      throw new Error('Already following this author');\r\n    }\r\n    \r\n    const docRef = await addDoc(collection(db, 'follows'), {\r\n      readerId,\r\n      authorId,\r\n      followedAt: serverTimestamp(),\r\n    });\r\n    \r\n    // Update reader's followed authors\r\n    const userDoc = await getDoc(doc(db, 'users', readerId));\r\n    if (userDoc.exists()) {\r\n      const user = userDoc.data() as User;\r\n      const updatedFollowedAuthors = [...(user.followedAuthors || []), authorId];\r\n      await updateDoc(doc(db, 'users', readerId), {\r\n        followedAuthors: updatedFollowedAuthors\r\n      });\r\n    }\r\n    \r\n    return docRef.id;\r\n  } catch (error) {\r\n    console.error('Error following author:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const unfollowAuthor = async (readerId: string, authorId: string) => {\r\n  try {\r\n    const q = query(\r\n      collection(db, 'follows'),\r\n      where('readerId', '==', readerId),\r\n      where('authorId', '==', authorId)\r\n    );\r\n    const followDocs = await getDocs(q);\r\n    \r\n    if (!followDocs.empty) {\r\n      await deleteDoc(followDocs.docs[0].ref);\r\n      \r\n      // Update reader's followed authors\r\n      const userDoc = await getDoc(doc(db, 'users', readerId));\r\n      if (userDoc.exists()) {\r\n        const user = userDoc.data() as User;\r\n        const updatedFollowedAuthors = (user.followedAuthors || []).filter(id => id !== authorId);\r\n        await updateDoc(doc(db, 'users', readerId), {\r\n          followedAuthors: updatedFollowedAuthors\r\n        });\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Error unfollowing author:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getAuthorFollowers = async (authorId: string): Promise<Follow[]> => {\r\n  try {\r\n    const q = query(collection(db, 'follows'), where('authorId', '==', authorId));\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Follow));\r\n  } catch (error) {\r\n    console.error('Error getting author followers:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Check if user has purchased a book\r\nexport const hasUserPurchasedBook = async (userId: string, bookId: string): Promise<boolean> => {\r\n  try {\r\n    const user = await getUserById(userId);\r\n    return user?.purchasedBooks?.includes(bookId) || false;\r\n  } catch (error) {\r\n    console.error('Error checking book purchase:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Analytics\r\nexport const getAuthorAnalytics = async (authorId: string): Promise<AuthorAnalytics | null> => {\r\n  try {\r\n    const analyticsDoc = await getDoc(doc(db, 'authorAnalytics', authorId));\r\n    if (!analyticsDoc.exists()) {\r\n      return null;\r\n    }\r\n    return analyticsDoc.data() as AuthorAnalytics;\r\n  } catch (error) {\r\n    console.error('Error getting author analytics:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateAuthorAnalytics = async (authorId: string, updates: Partial<AuthorAnalytics>) => {\r\n  try {\r\n    await updateDoc(doc(db, 'authorAnalytics', authorId), {\r\n      ...updates,\r\n      lastUpdated: serverTimestamp()\r\n    });\r\n  } catch (error) {\r\n    console.error('Error updating author analytics:', error);\r\n    throw error;\r\n  }\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2514, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/auth.ts"],"sourcesContent":["import { \r\n  createUserWithEmailAndPassword, \r\n  signInWithEmailAndPassword, \r\n  signOut, \r\n  User as FirebaseUser,\r\n  onAuthStateChanged\r\n} from 'firebase/auth';\r\nimport { auth } from './firebase';\r\nimport { createUser, getUserByEmail } from './database';\r\nimport { User, UserRole, AuthUser } from './types';\r\nimport bcrypt from 'bcryptjs';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n// Register a new user\r\nexport const registerUser = async (\r\n  email: string, \r\n  password: string, \r\n  firstName: string, \r\n  lastName: string, \r\n  role: UserRole\r\n): Promise<AuthUser> => {\r\n  try {\r\n    // Check if user already exists\r\n    const existingUser = await getUserByEmail(email);\r\n    if (existingUser) {\r\n      throw new Error('User with this email already exists');\r\n    }\r\n\r\n    // Create user with Firebase Auth\r\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n    const firebaseUser = userCredential.user;\r\n\r\n    // Hash password for database storage\r\n    const hashedPassword = await bcrypt.hash(password, 12);\r\n\r\n    // Create user document in Firestore\r\n    const userData: Omit<User, 'id'> = {\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password: hashedPassword,\r\n      role,\r\n      createdAt: new Date(),\r\n      isActive: true,\r\n    };\r\n\r\n    await createUser(userData);\r\n\r\n    return {\r\n      uid: firebaseUser.uid,\r\n      email: firebaseUser.email!,\r\n      role,\r\n      firstName,\r\n      lastName,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error registering user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Sign in user\r\nexport const signInUser = async (email: string, password: string): Promise<AuthUser> => {\r\n  try {\r\n    // Get user from database to check role\r\n    const user = await getUserByEmail(email);\r\n    if (!user) {\r\n      throw new Error('User not found');\r\n    }\r\n\r\n    if (!user.isActive) {\r\n      throw new Error('Account is deactivated');\r\n    }\r\n\r\n    // Sign in with Firebase Auth\r\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n    const firebaseUser = userCredential.user;\r\n\r\n    return {\r\n      uid: firebaseUser.uid,\r\n      email: firebaseUser.email!,\r\n      role: user.role,\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error signing in user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Sign out user\r\nexport const signOutUser = async (): Promise<void> => {\r\n  try {\r\n    await signOut(auth);\r\n  } catch (error) {\r\n    console.error('Error signing out user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Generate JWT token\r\nexport const generateJWTToken = (user: AuthUser): string => {\r\n  const payload = {\r\n    uid: user.uid,\r\n    email: user.email,\r\n    role: user.role,\r\n    firstName: user.firstName,\r\n    lastName: user.lastName,\r\n  };\r\n\r\n  return jwt.sign(payload, process.env.JWT_SECRET!, {\r\n    expiresIn: '24h',\r\n  });\r\n};\r\n\r\n// Verify JWT token\r\nexport const verifyJWTToken = (token: string): AuthUser => {\r\n  try {\r\n    const decoded = jwt.verify(token, process.env.JWT_SECRET!) as AuthUser;\r\n    return decoded;\r\n  } catch (error) {\r\n    throw new Error('Invalid token');\r\n  }\r\n};\r\n\r\n// Auth state listener\r\nexport const onAuthStateChange = (callback: (user: FirebaseUser | null) => void) => {\r\n  return onAuthStateChanged(auth, callback);\r\n};\r\n\r\n// Validate password strength\r\nexport const validatePassword = (password: string): boolean => {\r\n  // At least 8 characters, 1 uppercase, 1 lowercase, 1 number\r\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,}$/;\r\n  return passwordRegex.test(password);\r\n};\r\n\r\n// Validate email format\r\nexport const validateEmail = (email: string): boolean => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\n// Hash password\r\nexport const hashPassword = async (password: string): Promise<string> => {\r\n  return await bcrypt.hash(password, 12);\r\n};\r\n\r\n// Compare password\r\nexport const comparePassword = async (password: string, hashedPassword: string): Promise<boolean> => {\r\n  return await bcrypt.compare(password, hashedPassword);\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2652, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { onAuthStateChange } from '@/lib/auth';\r\nimport { getUserById } from '@/lib/database';\r\nimport { AuthUser, User } from '@/lib/types';\r\nimport { User as FirebaseUser } from 'firebase/auth';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  authUser: AuthUser | null;\r\n  loading: boolean;\r\n  logout: () => Promise<void>;\r\n  refreshUser: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [authUser, setAuthUser] = useState<AuthUser | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check localStorage for user data\r\n    const storedUser = localStorage.getItem('currentUser');\r\n    if (storedUser) {\r\n      try {\r\n        const userData = JSON.parse(storedUser);\r\n        setAuthUser(userData);\r\n        // Fetch full user data from database\r\n        fetchUserData(userData.uid);\r\n      } catch (error) {\r\n        console.error('Error parsing stored user data:', error);\r\n        localStorage.removeItem('currentUser');\r\n      }\r\n    }\r\n\r\n    // Listen for Firebase auth state changes\r\n    const unsubscribe = onAuthStateChange(async (firebaseUser: FirebaseUser | null) => {\r\n      if (firebaseUser) {\r\n        // User is signed in\r\n        try {\r\n          const userData = await getUserById(firebaseUser.uid);\r\n          if (userData) {\r\n            setUser(userData);\r\n            const authUserData: AuthUser = {\r\n              uid: firebaseUser.uid,\r\n              email: firebaseUser.email!,\r\n              role: userData.role,\r\n              firstName: userData.firstName,\r\n              lastName: userData.lastName,\r\n            };\r\n            setAuthUser(authUserData);\r\n            localStorage.setItem('currentUser', JSON.stringify(authUserData));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching user data:', error);\r\n        }\r\n      } else {\r\n        // User is signed out\r\n        setUser(null);\r\n        setAuthUser(null);\r\n        localStorage.removeItem('currentUser');\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    // Listen for storage events (for logout from other tabs)\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === 'currentUser' && e.newValue === null) {\r\n        setUser(null);\r\n        setAuthUser(null);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    return () => {\r\n      unsubscribe();\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n\r\n  const fetchUserData = async (userId: string) => {\r\n    try {\r\n      const userData = await getUserById(userId);\r\n      if (userData) {\r\n        setUser(userData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshUser = async () => {\r\n    if (authUser) {\r\n      await fetchUserData(authUser.uid);\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      const response = await fetch('/api/auth/logout', {\r\n        method: 'POST',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setUser(null);\r\n        setAuthUser(null);\r\n        localStorage.removeItem('currentUser');\r\n        // Dispatch storage event for other tabs\r\n        window.dispatchEvent(new StorageEvent('storage', {\r\n          key: 'currentUser',\r\n          newValue: null,\r\n          oldValue: localStorage.getItem('currentUser'),\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      user,\r\n      authUser,\r\n      loading,\r\n      logout,\r\n      refreshUser,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n// Hook for checking if user has specific role\r\nexport function useRole(requiredRole: string) {\r\n  const { authUser } = useAuth();\r\n  return authUser?.role === requiredRole;\r\n}\r\n\r\n// Hook for checking if user is authenticated\r\nexport function useIsAuthenticated() {\r\n  const { authUser } = useAuth();\r\n  return !!authUser;\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}