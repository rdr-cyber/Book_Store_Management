{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,oKAAA,CAAA,WAAwB;AAE9C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,oKAAA,CAAA,WAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAI3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,oKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,SAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,oKAAA,CAAA,SAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,oKAAA,CAAA,QAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,oKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAE1B,qBACE,6LAAC,oIAAA,CAAA,gBAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,oIAAA,CAAA,QAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,oIAAA,CAAA,aAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,oIAAA,CAAA,mBAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,oIAAA,CAAA,aAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,oIAAA,CAAA,gBAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,+HAAA,CAAA,WAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,qKAAA,CAAA,OAAmB;AAEjC,MAAM,eAAe,qKAAA,CAAA,UAAsB;AAE3C,MAAM,aAAa,qKAAA,CAAA,QAAoB;AAEvC,MAAM,cAAc,qKAAA,CAAA,SAAqB;AAEzC,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAsB;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGlC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAsB;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,qKAAA,CAAA,UAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,qKAAA,CAAA,QAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,qKAAA,CAAA,cAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 911, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 959, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/Header.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from 'next/link';\nimport {\n  BookOpenCheck,\n  Menu,\n  Search,\n  ShoppingCart,\n  User,\n  LogIn,\n  LogOut,\n  Library,\n  LayoutDashboard,\n  Home,\n  Book,\n  Wand2,\n  Settings,\n  Sparkles,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetDescription,\n  SheetTrigger,\n} from '@/components/ui/sheet';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport type { UserRole } from '@/lib/types';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Badge } from '@/components/ui/badge';\n\ninterface NavLink {\n  href: string;\n  label: string;\n  icon: any;\n}\n\ntype NavLinksConfig = {\n  reader: NavLink[];\n  author: NavLink[];\n  admin?: NavLink[];\n  guest: NavLink[];\n};\n\nconst navLinksConfig: NavLinksConfig = {\n  reader: [\n    { href: '/reader/dashboard', label: 'Dashboard', icon: LayoutDashboard },\n    { href: '/books', label: 'Browse Books', icon: Book },\n    { href: '/ai/suggestions?role=reader', label: 'AI Suggestions', icon: Wand2 },\n  ],\n  author: [\n    { href: '/author/dashboard', label: 'Dashboard', icon: LayoutDashboard },\n    { href: '/ai/suggestions?role=author', label: 'AI Book Ideas', icon: Wand2 },\n  ],\n  admin: [\n    { href: '/admin/dashboard', label: 'Admin Panel', icon: Settings },\n    { href: '/admin/users', label: 'Users', icon: User },\n  ],\n  guest: [\n    { href: '/', label: 'Home', icon: Home },\n  ]\n};\n\ntype UserInfo = {\n  firstName: string;\n  lastName: string;\n  role: UserRole;\n};\n\nexport default function Header() {\n  const [user, setUser] = useState<UserInfo | null>(null);\n  const [hasMounted, setHasMounted] = useState(false);\n  const [cartCount, setCartCount] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n  const router = useRouter();\n\n  useEffect(() => {\n    const updateUserState = () => {\n      try {\n        const loggedInUser = localStorage.getItem('loggedInUser');\n        if (loggedInUser) {\n          setUser(JSON.parse(loggedInUser));\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        setUser(null);\n      }\n    };\n\n    const updateCartCount = () => {\n      try {\n        const cart = JSON.parse(localStorage.getItem('cart') || '[]');\n        setCartCount(cart.length);\n      } catch (error) {\n        setCartCount(0);\n      }\n    };\n    \n    updateUserState();\n    updateCartCount();\n    setHasMounted(true);\n\n    const handleStorageChange = (event: StorageEvent) => {\n      if (event.key === 'loggedInUser' || event.key === null) { \n        updateUserState();\n      }\n      if (event.key === 'cart' || event.key === null) {\n        updateCartCount();\n      }\n    };\n    \n    window.addEventListener('storage', handleStorageChange);\n    \n    const handleCartUpdate = () => {\n      updateCartCount();\n    };\n    window.addEventListener('cartUpdated', handleCartUpdate);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('cartUpdated', handleCartUpdate);\n    };\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('loggedInUser');\n    window.dispatchEvent(new StorageEvent('storage', { key: 'loggedInUser', newValue: null }));\n    router.push('/');\n  };\n\n  const handleSearch = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      router.push(`/books?q=${encodeURIComponent(searchQuery)}`);\n    }\n  };\n  \n  const role = user?.role;\n  const navLinks = hasMounted && role && navLinksConfig[role as keyof NavLinksConfig] ? navLinksConfig[role as keyof NavLinksConfig] : navLinksConfig.guest;\n  const homePath = hasMounted && role ? (role === 'author' ? '/author/dashboard' : '/reader/dashboard') : '/';\n  \n  return (\n    <motion.header \n      className=\"sticky top-0 z-50 w-full border-b border-white/20 bg-white/95 backdrop-blur-xl supports-[backdrop-filter]:bg-white/95 shadow-lg shadow-black/5\"\n      initial={{ y: -100 }}\n      animate={{ y: 0 }}\n      transition={{ duration: 0.5, ease: \"easeOut\" }}\n    >\n      <div className=\"container flex h-16 items-center\">\n        {/* Logo Section */}\n        <div className=\"mr-4 hidden md:flex\">\n          <Link href={homePath} className=\"mr-6 flex items-center space-x-3 group\">\n            <motion.div\n              className=\"p-2.5 bg-gradient-to-br from-blue-600 via-purple-600 to-blue-700 rounded-2xl shadow-lg group-hover:shadow-xl\"\n              whileHover={{ \n                scale: 1.05,\n                rotate: 5,\n                boxShadow: \"0 20px 40px rgba(59, 130, 246, 0.4)\"\n              }}\n              transition={{ duration: 0.3, type: \"spring\", stiffness: 400 }}\n            >\n              <BookOpenCheck className=\"h-6 w-6 text-white\" />\n            </motion.div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"hidden font-black sm:inline-block font-headline text-2xl bg-gradient-to-r from-gray-900 via-blue-800 to-gray-900 bg-clip-text text-transparent\">\n                ShelfWise\n              </span>\n              <motion.div\n                className=\"opacity-0 group-hover:opacity-100 transition-all duration-300\"\n                initial={{ opacity: 0, scale: 0.8 }}\n                whileHover={{ opacity: 1, scale: 1 }}\n              >\n                <Sparkles className=\"h-4 w-4 text-yellow-500\" />\n              </motion.div>\n            </div>\n          </Link>\n          \n          {/* Desktop Navigation */}\n          <nav className=\"flex items-center space-x-1\">\n            {navLinks.map((link, index) => {\n              const IconComponent = link.icon;\n              return (\n                <motion.div\n                  key={link.href}\n                  initial={{ opacity: 0, y: -20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1, duration: 0.3 }}\n                >\n                  <Link\n                    href={link.href}\n                    className=\"flex items-center space-x-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 hover:bg-blue-50 hover:text-blue-700 group relative overflow-hidden\"\n                  >\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl\" />\n                    <IconComponent className=\"h-4 w-4 transition-all duration-300 group-hover:scale-110 group-hover:text-blue-600 relative z-10\" />\n                    <span className=\"relative z-10\">{link.label}</span>\n                  </Link>\n                </motion.div>\n              );\n            })}\n          </nav>\n        </div>\n\n        <div className=\"flex flex-1 items-center justify-between space-x-2 md:justify-end\">\n          {/* Mobile Navigation */}\n          <div className=\"w-full flex-1 md:w-auto md:flex-none\">\n            <Sheet>\n              <SheetTrigger asChild>\n                <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"md:hidden\">\n                    <Menu className=\"h-5 w-5\" />\n                    <span className=\"sr-only\">Toggle Menu</span>\n                  </Button>\n                </motion.div>\n              </SheetTrigger>\n              <SheetContent side=\"left\" className=\"bg-white/95 backdrop-blur-xl border-r border-white/20 shadow-2xl\">\n                <SheetHeader>\n                  <Link href={homePath} className=\"flex items-center space-x-3\">\n                    <div className=\"p-2.5 bg-gradient-to-br from-blue-600 via-purple-600 to-blue-700 rounded-2xl shadow-lg\">\n                      <BookOpenCheck className=\"h-6 w-6 text-white\" />\n                    </div>\n                    <SheetTitle className=\"font-black text-2xl bg-gradient-to-r from-gray-900 via-blue-800 to-gray-900 bg-clip-text text-transparent\">\n                      ShelfWise\n                    </SheetTitle>\n                  </Link>\n                  <SheetDescription className=\"text-gray-600 font-medium\">Navigate the future of reading.</SheetDescription>\n                </SheetHeader>\n                {hasMounted && (\n                  <nav className=\"mt-6 flex flex-col space-y-2\">\n                    {navLinks.map((link, index) => {\n                      const IconComponent = link.icon;\n                      return (\n                        <motion.div\n                          key={link.href}\n                          initial={{ opacity: 0, x: -20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          transition={{ delay: index * 0.1, duration: 0.3 }}\n                        >\n                          <Link\n                            href={link.href}\n                            className=\"flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 hover:bg-blue-50 hover:text-blue-700 group relative overflow-hidden\"\n                          >\n                            <div className=\"absolute inset-0 bg-gradient-to-r from-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl\" />\n                            <IconComponent className=\"h-5 w-5 relative z-10 group-hover:text-blue-600 transition-colors duration-300\" />\n                            <span className=\"relative z-10\">{link.label}</span>\n                          </Link>\n                        </motion.div>\n                      );\n                    })}\n                  </nav>\n                )}\n              </SheetContent>\n            </Sheet>\n          </div>\n          \n            {/* Enhanced Search for Readers */}\n          {hasMounted && role === 'reader' && (\n            <motion.form \n              onSubmit={handleSearch} \n              className=\"relative flex-1 md:grow-0\"\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: 0.2, duration: 0.3 }}\n            >\n              <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input\n                type=\"search\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search amazing books...\"\n                className=\"w-full rounded-2xl bg-gray-50/80 backdrop-blur-sm border-0 pl-12 pr-4 py-3 md:w-[220px] lg:w-[360px] transition-all duration-300 focus:bg-white focus:ring-2 focus:ring-blue-500/30 focus:shadow-2xl focus:scale-105 text-sm font-medium placeholder:text-gray-500\"\n              />\n            </motion.form>\n          )}\n\n          {/* Action Buttons */}\n          <nav className=\"flex items-center space-x-1\">\n            {/* Enhanced Shopping Cart */}\n            {hasMounted && role === 'reader' && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 0.3, duration: 0.3 }}\n              >\n                <motion.div \n                  whileHover={{ scale: 1.05 }} \n                  whileTap={{ scale: 0.95 }}\n                  className=\"relative\"\n                >\n                  <Button variant=\"ghost\" size=\"icon\" asChild className=\"relative hover:bg-blue-50 rounded-xl transition-all duration-300 hover:shadow-lg\">\n                    <Link href=\"/cart\">\n                      <div className=\"relative\">\n                        <ShoppingCart className=\"h-5 w-5 text-gray-700 hover:text-blue-600 transition-colors duration-300\" />\n                        <AnimatePresence>\n                          {cartCount > 0 && (\n                            <motion.div\n                              initial={{ scale: 0, opacity: 0 }}\n                              animate={{ scale: 1, opacity: 1 }}\n                              exit={{ scale: 0, opacity: 0 }}\n                              className=\"absolute -top-2 -right-2\"\n                            >\n                              <Badge \n                                variant=\"destructive\" \n                                className=\"h-6 w-6 p-0 flex items-center justify-center text-xs bg-gradient-to-r from-red-500 to-pink-500 border-2 border-white shadow-lg\"\n                              >\n                                {cartCount > 99 ? '99+' : cartCount}\n                              </Badge>\n                            </motion.div>\n                          )}\n                        </AnimatePresence>\n                      </div>\n                      <span className=\"sr-only\">Shopping Cart</span>\n                    </Link>\n                  </Button>\n                </motion.div>\n              </motion.div>\n            )}\n            \n            {/* Enhanced User Menu */}\n            {hasMounted && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 0.4, duration: 0.3 }}\n              >\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\n                      <Button variant=\"ghost\" size=\"icon\" className=\"relative hover:bg-blue-50 rounded-xl transition-all duration-300 hover:shadow-lg\">\n                        {user ? (\n                          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 via-purple-600 to-blue-700 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg\">\n                            {user.firstName.charAt(0).toUpperCase()}\n                          </div>\n                        ) : (\n                          <User className=\"h-5 w-5 text-gray-700 hover:text-blue-600 transition-colors duration-300\" />\n                        )}\n                        <span className=\"sr-only\">User Menu</span>\n                      </Button>\n                    </motion.div>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\" className=\"w-64 bg-white/95 backdrop-blur-xl border border-white/20 shadow-2xl rounded-2xl p-2\">\n                    {user ? (\n                      <>\n                        <DropdownMenuLabel className=\"px-3 py-2\">\n                          <div className=\"flex flex-col space-y-1\">\n                            <p className=\"text-sm font-semibold text-gray-900\">\n                              Welcome, {user.firstName}!\n                            </p>\n                            <p className=\"text-xs text-gray-600 capitalize bg-blue-50 px-2 py-1 rounded-full w-fit\">\n                              {user.role}\n                            </p>\n                          </div>\n                        </DropdownMenuLabel>\n                        <DropdownMenuSeparator className=\"bg-gray-200/50\" />\n                        {user.role === 'reader' ? (\n                          <>\n                            <DropdownMenuItem asChild className=\"rounded-xl transition-colors duration-200 hover:bg-blue-50 focus:bg-blue-50\">\n                              <Link href=\"/reader/dashboard\" className=\"flex items-center px-3 py-2\">\n                                <LayoutDashboard className=\"mr-3 h-4 w-4 text-blue-600\" />\n                                <span className=\"font-medium\">Dashboard</span>\n                              </Link>\n                            </DropdownMenuItem>\n                            <DropdownMenuItem asChild className=\"rounded-xl transition-colors duration-200 hover:bg-blue-50 focus:bg-blue-50\">\n                              <Link href=\"/reader/library\" className=\"flex items-center px-3 py-2\">\n                                <Library className=\"mr-3 h-4 w-4 text-purple-600\" />\n                                <span className=\"font-medium\">My Library</span>\n                              </Link>\n                            </DropdownMenuItem>\n                          </>\n                        ) : (\n                          <DropdownMenuItem asChild className=\"rounded-xl transition-colors duration-200 hover:bg-blue-50 focus:bg-blue-50\">\n                            <Link href=\"/author/dashboard\" className=\"flex items-center px-3 py-2\">\n                              <LayoutDashboard className=\"mr-3 h-4 w-4 text-blue-600\" />\n                              <span className=\"font-medium\">Dashboard</span>\n                            </Link>\n                          </DropdownMenuItem>\n                        )}\n                        <DropdownMenuItem asChild className=\"rounded-xl transition-colors duration-200 hover:bg-blue-50 focus:bg-blue-50\">\n                          <Link href=\"/settings\" className=\"flex items-center px-3 py-2\">\n                            <Settings className=\"mr-3 h-4 w-4 text-gray-600\" />\n                            <span className=\"font-medium\">Settings</span>\n                          </Link>\n                        </DropdownMenuItem>\n                        <DropdownMenuSeparator className=\"bg-gray-200/50\" />\n                        <DropdownMenuItem \n                          onClick={handleLogout} \n                          className=\"rounded-xl transition-colors duration-200 hover:bg-red-50 focus:bg-red-50 text-red-600 px-3 py-2 cursor-pointer\"\n                        >\n                          <LogOut className=\"mr-3 h-4 w-4\" />\n                          <span className=\"font-medium\">Sign out</span>\n                        </DropdownMenuItem>\n                      </>\n                    ) : (\n                      <>\n                        <DropdownMenuLabel className=\"px-3 py-2\">\n                          <span className=\"text-sm font-semibold text-gray-900\">Welcome to ShelfWise</span>\n                        </DropdownMenuLabel>\n                        <DropdownMenuSeparator className=\"bg-gray-200/50\" />\n                        <DropdownMenuItem asChild className=\"rounded-xl transition-colors duration-200 hover:bg-blue-50 focus:bg-blue-50\">\n                          <Link href=\"/auth/login\" className=\"flex items-center px-3 py-2\">\n                            <LogIn className=\"mr-3 h-4 w-4 text-blue-600\" />\n                            <span className=\"font-medium\">Sign In</span>\n                          </Link>\n                        </DropdownMenuItem>\n                        <DropdownMenuItem asChild className=\"rounded-xl transition-colors duration-200 hover:bg-purple-50 focus:bg-purple-50\">\n                          <Link href=\"/auth/register\" className=\"flex items-center px-3 py-2\">\n                            <User className=\"mr-3 h-4 w-4 text-purple-600\" />\n                            <span className=\"font-medium\">Get Started</span>\n                          </Link>\n                        </DropdownMenuItem>\n                      </>\n                    )}\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              </motion.div>\n            )}\n          </nav>\n        </div>\n      </div>\n    </motion.header>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2049, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,sKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,sKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/components/Footer.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport Link from \"next/link\";\nimport { BookOpenCheck } from \"lucide-react\";\nimport {\n    Tooltip,\n    TooltipContent,\n    TooltipProvider,\n    TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\n\nconst InstagramIcon = (props: React.SVGProps<SVGSVGElement>) => (\n    <svg\n      {...props}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <rect width=\"20\" height=\"20\" x=\"2\" y=\"2\" rx=\"5\" ry=\"5\" />\n      <path d=\"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z\" />\n      <line x1=\"17.5\" x2=\"17.51\" y1=\"6.5\" y2=\"6.5\" />\n    </svg>\n);\n\nconst GithubIcon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    {...props}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\" />\n    <path d=\"M9 18c-4.51 2-5-2-7-2\" />\n  </svg>\n);\n\nconst ClashOfClansIcon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg \n    {...props}\n    xmlns=\"http://www.w3.org/2000/svg\" \n    width=\"24\" \n    height=\"24\" \n    viewBox=\"0 0 24 24\"\n    fill=\"currentColor\"\n    stroke=\"#D4AF37\"\n    strokeWidth=\"1\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n  >\n    <path d=\"M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3z\" fill=\"#4a4a4a\"/>\n    <path d=\"M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3z\" stroke=\"#C0C0C0\" strokeWidth=\"0.5\" fill=\"none\"/>\n    <path d=\"M12 12l3-1.5-3-1.5-3 1.5 3 1.5z\" fill=\"#D4AF37\" />\n    <path d=\"M12 12v4l3 1.5v-4l-3-1.5z\" fill=\"#B8860B\" />\n    <path d=\"M12 12v4l-3 1.5v-4l3-1.5z\" fill=\"#DAA520\" />\n </svg>\n);\n\n\nexport default function Footer() {\n  const [year, setYear] = useState(new Date().getFullYear());\n  \n  useEffect(() => {\n      setYear(new Date().getFullYear());\n  }, []);\n\n  return (\n    <footer className=\"bg-secondary border-t\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex flex-col items-center justify-between md:flex-row\">\n          <div className=\"flex items-center space-x-2 mb-4 md:mb-0\">\n            <BookOpenCheck className=\"h-6 w-6 text-primary\" />\n            <span className=\"text-lg font-bold font-headline\">ShelfWise</span>\n          </div>\n          <p className=\"text-sm text-muted-foreground\">\n            © {year} ShelfWise. All rights reserved.\n          </p>\n          <TooltipProvider>\n            <div className=\"flex items-center space-x-4 mt-4 md:mt-0\">\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Link\n                            href=\"https://link.clashofclans.com/en?action=OpenPlayerProfile&tag=G0LPLP8J0\"\n                            className=\"text-muted-foreground hover:text-foreground transition-transform duration-300 hover:scale-110\"\n                        >\n                            <ClashOfClansIcon className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">Clash of Clans</span>\n                        </Link>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                        <p>My Clash Of Clans Account....</p>\n                    </TooltipContent>\n                </Tooltip>\n\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                         <Link\n                            href=\"https://www.instagram.com/debadyutidey7?igsh=eGdlYm93c3ZxYjUy\"\n                            className=\"text-muted-foreground hover:text-foreground transition-transform duration-300 hover:scale-110\"\n                            >\n                            <InstagramIcon className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">Instagram</span>\n                        </Link>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                        <p>My Instagram Account....</p>\n                    </TooltipContent>\n                </Tooltip>\n\n                <Tooltip>\n                    <TooltipTrigger asChild>\n                        <Link\n                            href=\"https://github.com/debadyutidey007/Book_Store_Management\"\n                            className=\"text-muted-foreground hover:text-foreground transition-transform duration-300 hover:scale-110\"\n                        >\n                            <GithubIcon className=\"h-5 w-5\" />\n                            <span className=\"sr-only\">GitHub</span>\n                        </Link>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                        <p>My GitHub Account....</p>\n                    </TooltipContent>\n                </Tooltip>\n            </div>\n          </TooltipProvider>\n        </div>\n      </div>\n    </footer>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2507, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\nimport { createBrowserClient } from '@supabase/ssr';\r\n\r\n// Get environment variables with fallbacks\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://placeholder.supabase.co';\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'placeholder-key';\r\n\r\n// Validate that we have proper Supabase configuration\r\nconst isValidSupabaseConfig = \r\n  supabaseUrl !== 'your_supabase_project_url' && \r\n  supabaseUrl !== 'https://placeholder.supabase.co' &&\r\n  supabaseAnonKey !== 'your_supabase_anon_key' && \r\n  supabaseAnonKey !== 'placeholder-key' &&\r\n  supabaseUrl.startsWith('https://') &&\r\n  supabaseUrl.includes('.supabase.co');\r\n\r\n// Create a mock client for development when Supabase is not configured\r\nconst createMockClient = () => ({\r\n  auth: {\r\n    signUp: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n    signInWithPassword: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n    signOut: () => Promise.resolve({ error: null }),\r\n    getUser: () => Promise.resolve({ data: { user: null }, error: null }),\r\n    onAuthStateChange: (callback: Function) => {\r\n      // Return a mock subscription\r\n      return { data: { subscription: { unsubscribe: () => {} } } };\r\n    },\r\n  },\r\n  from: (table: string) => ({\r\n    select: () => ({\r\n      eq: () => ({\r\n        single: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n        order: () => Promise.resolve({ data: [], error: null }),\r\n      }),\r\n      order: () => Promise.resolve({ data: [], error: null }),\r\n    }),\r\n    insert: () => ({\r\n      select: () => ({\r\n        single: () => Promise.resolve({ data: null, error: new Error('Supabase not configured') }),\r\n      }),\r\n    }),\r\n    update: () => ({\r\n      eq: () => Promise.resolve({ error: new Error('Supabase not configured') }),\r\n    }),\r\n    delete: () => ({\r\n      eq: () => Promise.resolve({ error: new Error('Supabase not configured') }),\r\n    }),\r\n  }),\r\n  rpc: () => Promise.resolve({ error: new Error('Supabase not configured') }),\r\n});\r\n\r\n// Client-side Supabase client\r\nexport const supabase = (() => {\r\n  if (isValidSupabaseConfig) {\r\n    return createClient(supabaseUrl, supabaseAnonKey);\r\n  }\r\n  return createMockClient();\r\n})();\r\n\r\n// Browser client for SSR\r\nexport const createSupabaseBrowserClient = () => {\r\n  if (isValidSupabaseConfig) {\r\n    return createBrowserClient(supabaseUrl, supabaseAnonKey);\r\n  }\r\n  return createMockClient();\r\n};\r\n\r\n// Export configuration status\r\nexport const isSupabaseConfigured = isValidSupabaseConfig;\r\n\r\n// Database Tables Schema Types\r\nexport type Database = {\r\n  public: {\r\n    Tables: {\r\n      users: {\r\n        Row: {\r\n          id: string;\r\n          email: string;\r\n          first_name: string;\r\n          last_name: string;\r\n          role: 'reader' | 'author' | 'admin';\r\n          avatar_url?: string;\r\n          bio?: string;\r\n          created_at: string;\r\n          updated_at: string;\r\n          is_active: boolean;\r\n          // Author specific\r\n          author_verified?: boolean;\r\n          total_books?: number;\r\n          total_sales?: number;\r\n          total_revenue?: number;\r\n          // Reader specific\r\n          followed_authors?: string[];\r\n          purchased_books?: string[];\r\n        };\r\n        Insert: {\r\n          id?: string;\r\n          email: string;\r\n          first_name: string;\r\n          last_name: string;\r\n          role: 'reader' | 'author' | 'admin';\r\n          avatar_url?: string;\r\n          bio?: string;\r\n          created_at?: string;\r\n          updated_at?: string;\r\n          is_active?: boolean;\r\n          author_verified?: boolean;\r\n          total_books?: number;\r\n          total_sales?: number;\r\n          total_revenue?: number;\r\n          followed_authors?: string[];\r\n          purchased_books?: string[];\r\n        };\r\n        Update: {\r\n          id?: string;\r\n          email?: string;\r\n          first_name?: string;\r\n          last_name?: string;\r\n          role?: 'reader' | 'author' | 'admin';\r\n          avatar_url?: string;\r\n          bio?: string;\r\n          updated_at?: string;\r\n          is_active?: boolean;\r\n          author_verified?: boolean;\r\n          total_books?: number;\r\n          total_sales?: number;\r\n          total_revenue?: number;\r\n          followed_authors?: string[];\r\n          purchased_books?: string[];\r\n        };\r\n      };\r\n      books: {\r\n        Row: {\r\n          id: string;\r\n          title: string;\r\n          author_name: string;\r\n          author_id: string;\r\n          price: number;\r\n          image_url?: string;\r\n          description: string;\r\n          category: string;\r\n          cover_type: string;\r\n          stock: number;\r\n          reorder_point: number;\r\n          book_file_url?: string;\r\n          published_at: string;\r\n          updated_at: string;\r\n          sales: number;\r\n          revenue: number;\r\n          average_rating: number;\r\n          total_reviews: number;\r\n        };\r\n        Insert: {\r\n          id?: string;\r\n          title: string;\r\n          author_name: string;\r\n          author_id: string;\r\n          price: number;\r\n          image_url?: string;\r\n          description: string;\r\n          category: string;\r\n          cover_type: string;\r\n          stock: number;\r\n          reorder_point: number;\r\n          book_file_url?: string;\r\n          published_at?: string;\r\n          updated_at?: string;\r\n          sales?: number;\r\n          revenue?: number;\r\n          average_rating?: number;\r\n          total_reviews?: number;\r\n        };\r\n        Update: {\r\n          title?: string;\r\n          author_name?: string;\r\n          price?: number;\r\n          image_url?: string;\r\n          description?: string;\r\n          category?: string;\r\n          cover_type?: string;\r\n          stock?: number;\r\n          reorder_point?: number;\r\n          book_file_url?: string;\r\n          updated_at?: string;\r\n          sales?: number;\r\n          revenue?: number;\r\n          average_rating?: number;\r\n          total_reviews?: number;\r\n        };\r\n      };\r\n      orders: {\r\n        Row: {\r\n          id: string;\r\n          user_id: string;\r\n          books: any;\r\n          total_amount: number;\r\n          status: string;\r\n          payment_method: string;\r\n          payment_gateway: string;\r\n          payment_id?: string;\r\n          order_id?: string;\r\n          created_at: string;\r\n          completed_at?: string;\r\n          shipping_address?: any;\r\n        };\r\n        Insert: {\r\n          id?: string;\r\n          user_id: string;\r\n          books: any;\r\n          total_amount: number;\r\n          status: string;\r\n          payment_method: string;\r\n          payment_gateway: string;\r\n          payment_id?: string;\r\n          order_id?: string;\r\n          created_at?: string;\r\n          completed_at?: string;\r\n          shipping_address?: any;\r\n        };\r\n        Update: {\r\n          status?: string;\r\n          payment_id?: string;\r\n          completed_at?: string;\r\n        };\r\n      };\r\n      reviews: {\r\n        Row: {\r\n          id: string;\r\n          book_id: string;\r\n          user_id: string;\r\n          username: string;\r\n          rating: number;\r\n          comment: string;\r\n          created_at: string;\r\n          author_reply?: string;\r\n          reader_follow_up?: string;\r\n        };\r\n        Insert: {\r\n          id?: string;\r\n          book_id: string;\r\n          user_id: string;\r\n          username: string;\r\n          rating: number;\r\n          comment: string;\r\n          created_at?: string;\r\n          author_reply?: string;\r\n          reader_follow_up?: string;\r\n        };\r\n        Update: {\r\n          rating?: number;\r\n          comment?: string;\r\n          author_reply?: string;\r\n          reader_follow_up?: string;\r\n        };\r\n      };\r\n      follows: {\r\n        Row: {\r\n          id: string;\r\n          reader_id: string;\r\n          author_id: string;\r\n          followed_at: string;\r\n        };\r\n        Insert: {\r\n          id?: string;\r\n          reader_id: string;\r\n          author_id: string;\r\n          followed_at?: string;\r\n        };\r\n        Update: {};\r\n      };\r\n    };\r\n  };\r\n};\r\n\r\nexport default supabase;"],"names":[],"mappings":";;;;;;AAIoB;AAHpB;;;AAEA,2CAA2C;AAC3C,MAAM,cAAc,iEAAwC;AAC5D,MAAM,kBAAkB,8DAA6C;AAErE,sDAAsD;AACtD,MAAM,wBACJ,gBAAgB,+BAChB,gBAAgB,qCAChB,oBAAoB,4BACpB,oBAAoB,qBACpB,YAAY,UAAU,CAAC,eACvB,YAAY,QAAQ,CAAC;AAEvB,uEAAuE;AACvE,MAAM,mBAAmB,IAAM,CAAC;QAC9B,MAAM;YACJ,QAAQ,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM;oBAAM,OAAO,IAAI,MAAM;gBAA2B;YACxF,oBAAoB,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM;oBAAM,OAAO,IAAI,MAAM;gBAA2B;YACpG,SAAS,IAAM,QAAQ,OAAO,CAAC;oBAAE,OAAO;gBAAK;YAC7C,SAAS,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM;wBAAE,MAAM;oBAAK;oBAAG,OAAO;gBAAK;YACnE,mBAAmB,CAAC;gBAClB,6BAA6B;gBAC7B,OAAO;oBAAE,MAAM;wBAAE,cAAc;4BAAE,aAAa,KAAO;wBAAE;oBAAE;gBAAE;YAC7D;QACF;QACA,MAAM,CAAC,QAAkB,CAAC;gBACxB,QAAQ,IAAM,CAAC;wBACb,IAAI,IAAM,CAAC;gCACT,QAAQ,IAAM,QAAQ,OAAO,CAAC;wCAAE,MAAM;wCAAM,OAAO,IAAI,MAAM;oCAA2B;gCACxF,OAAO,IAAM,QAAQ,OAAO,CAAC;wCAAE,MAAM,EAAE;wCAAE,OAAO;oCAAK;4BACvD,CAAC;wBACD,OAAO,IAAM,QAAQ,OAAO,CAAC;gCAAE,MAAM,EAAE;gCAAE,OAAO;4BAAK;oBACvD,CAAC;gBACD,QAAQ,IAAM,CAAC;wBACb,QAAQ,IAAM,CAAC;gCACb,QAAQ,IAAM,QAAQ,OAAO,CAAC;wCAAE,MAAM;wCAAM,OAAO,IAAI,MAAM;oCAA2B;4BAC1F,CAAC;oBACH,CAAC;gBACD,QAAQ,IAAM,CAAC;wBACb,IAAI,IAAM,QAAQ,OAAO,CAAC;gCAAE,OAAO,IAAI,MAAM;4BAA2B;oBAC1E,CAAC;gBACD,QAAQ,IAAM,CAAC;wBACb,IAAI,IAAM,QAAQ,OAAO,CAAC;gCAAE,OAAO,IAAI,MAAM;4BAA2B;oBAC1E,CAAC;YACH,CAAC;QACD,KAAK,IAAM,QAAQ,OAAO,CAAC;gBAAE,OAAO,IAAI,MAAM;YAA2B;IAC3E,CAAC;AAGM,MAAM,WAAW,CAAC;IACvB,uCAA2B;;IAE3B;IACA,OAAO;AACT,CAAC;AAGM,MAAM,8BAA8B;IACzC,uCAA2B;;IAE3B;IACA,OAAO;AACT;AAGO,MAAM,uBAAuB;uCA8MrB","debugId":null}},
    {"offset": {"line": 2616, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/database.ts"],"sourcesContent":["import { supabase, isSupabaseConfigured } from './supabase';\r\nimport { \r\n  User, \r\n  Book, \r\n  Order, \r\n  Review, \r\n  Follow, \r\n  Transaction, \r\n  AuthorAnalytics, \r\n  ReviewConversation \r\n} from './types';\r\n\r\n// In-memory storage for development when Supabase is not configured\r\nlet mockUsers: User[] = [];\r\nlet mockBooks: Book[] = [];\r\nlet mockOrders: Order[] = [];\r\nlet mockReviews: Review[] = [];\r\nlet mockFollows: Follow[] = [];\r\n\r\n// Helper function to generate mock IDs\r\nconst generateMockId = () => `mock_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n// User Management\r\nexport const createUser = async (userData: Omit<User, 'id'>) => {\r\n  try {\r\n    if (!isSupabaseConfigured) {\r\n      // Mock implementation\r\n      const mockUser: User = {\r\n        id: generateMockId(),\r\n        ...userData,\r\n        createdAt: new Date(),\r\n      };\r\n      mockUsers.push(mockUser);\r\n      return mockUser.id;\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('users')\r\n      .insert({\r\n        email: userData.email,\r\n        first_name: userData.firstName,\r\n        last_name: userData.lastName,\r\n        role: userData.role,\r\n        avatar_url: userData.avatarUrl,\r\n        bio: userData.bio,\r\n        is_active: true,\r\n        followed_authors: userData.role === 'reader' ? [] : undefined,\r\n        purchased_books: userData.role === 'reader' ? [] : undefined,\r\n        author_verified: userData.role === 'author' ? false : undefined,\r\n        total_books: userData.role === 'author' ? 0 : undefined,\r\n        total_sales: userData.role === 'author' ? 0 : undefined,\r\n        total_revenue: userData.role === 'author' ? 0 : undefined,\r\n      })\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw error;\r\n    return data.id;\r\n  } catch (error) {\r\n    console.error('Error creating user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserByEmail = async (email: string): Promise<User | null> => {\r\n  try {\r\n    if (!isSupabaseConfigured) {\r\n      // Mock implementation\r\n      const user = mockUsers.find(u => u.email === email);\r\n      return user || null;\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('email', email)\r\n      .single();\r\n    \r\n    if (error && error.code !== 'PGRST116') throw error;\r\n    if (!data) return null;\r\n    \r\n    return {\r\n      id: data.id,\r\n      firstName: data.first_name,\r\n      lastName: data.last_name,\r\n      email: data.email,\r\n      role: data.role,\r\n      avatarUrl: data.avatar_url,\r\n      bio: data.bio,\r\n      createdAt: data.created_at,\r\n      isActive: data.is_active,\r\n      followedAuthors: data.followed_authors,\r\n      purchasedBooks: data.purchased_books,\r\n      authorVerified: data.author_verified,\r\n      totalBooks: data.total_books,\r\n      totalSales: data.total_sales,\r\n      totalRevenue: data.total_revenue,\r\n    } as User;\r\n  } catch (error) {\r\n    console.error('Error getting user by email:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserById = async (userId: string): Promise<User | null> => {\r\n  try {\r\n    if (!isSupabaseConfigured) {\r\n      // Mock implementation\r\n      const user = mockUsers.find(u => u.id === userId);\r\n      return user || null;\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('id', userId)\r\n      .single();\r\n    \r\n    if (error && error.code !== 'PGRST116') throw error;\r\n    if (!data) return null;\r\n    \r\n    return {\r\n      id: data.id,\r\n      firstName: data.first_name,\r\n      lastName: data.last_name,\r\n      email: data.email,\r\n      role: data.role,\r\n      avatarUrl: data.avatar_url,\r\n      bio: data.bio,\r\n      createdAt: data.created_at,\r\n      isActive: data.is_active,\r\n      followedAuthors: data.followed_authors,\r\n      purchasedBooks: data.purchased_books,\r\n      authorVerified: data.author_verified,\r\n      totalBooks: data.total_books,\r\n      totalSales: data.total_sales,\r\n      totalRevenue: data.total_revenue,\r\n    } as User;\r\n  } catch (error) {\r\n    console.error('Error getting user by ID:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (userId: string, updates: Partial<User>) => {\r\n  try {\r\n    const updateData: any = {};\r\n    if (updates.firstName) updateData.first_name = updates.firstName;\r\n    if (updates.lastName) updateData.last_name = updates.lastName;\r\n    if (updates.email) updateData.email = updates.email;\r\n    if (updates.role) updateData.role = updates.role;\r\n    if (updates.avatarUrl) updateData.avatar_url = updates.avatarUrl;\r\n    if (updates.bio) updateData.bio = updates.bio;\r\n    if (updates.isActive !== undefined) updateData.is_active = updates.isActive;\r\n    if (updates.followedAuthors) updateData.followed_authors = updates.followedAuthors;\r\n    if (updates.purchasedBooks) updateData.purchased_books = updates.purchasedBooks;\r\n    if (updates.authorVerified !== undefined) updateData.author_verified = updates.authorVerified;\r\n    if (updates.totalBooks !== undefined) updateData.total_books = updates.totalBooks;\r\n    if (updates.totalSales !== undefined) updateData.total_sales = updates.totalSales;\r\n    if (updates.totalRevenue !== undefined) updateData.total_revenue = updates.totalRevenue;\r\n    \r\n    updateData.updated_at = new Date().toISOString();\r\n    \r\n    const { error } = await supabase\r\n      .from('users')\r\n      .update(updateData)\r\n      .eq('id', userId);\r\n    \r\n    if (error) throw error;\r\n  } catch (error) {\r\n    console.error('Error updating user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Book Management\r\nexport const createBook = async (bookData: Omit<Book, 'id'>) => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('books')\r\n      .insert({\r\n        title: bookData.title,\r\n        author_name: bookData.authorName,\r\n        author_id: bookData.authorId,\r\n        price: bookData.price,\r\n        image_url: bookData.imageUrl,\r\n        description: bookData.description,\r\n        category: bookData.category,\r\n        cover_type: bookData.coverType,\r\n        stock: bookData.stock,\r\n        reorder_point: bookData.reorderPoint,\r\n        book_file_url: bookData.bookFileUrl,\r\n        sales: 0,\r\n        revenue: 0,\r\n        average_rating: 0,\r\n        total_reviews: 0,\r\n      })\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw error;\r\n    \r\n    // Update author's book count\r\n    const { error: updateError } = await supabase.rpc('increment_user_books', {\r\n      user_id: bookData.authorId\r\n    });\r\n    \r\n    if (updateError) {\r\n      // Fallback: manually update\r\n      const { data: userData } = await supabase\r\n        .from('users')\r\n        .select('total_books')\r\n        .eq('id', bookData.authorId)\r\n        .single();\r\n      \r\n      await supabase\r\n        .from('users')\r\n        .update({ total_books: (userData?.total_books || 0) + 1 })\r\n        .eq('id', bookData.authorId);\r\n    }\r\n    \r\n    return data.id;\r\n  } catch (error) {\r\n    console.error('Error creating book:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBooksByAuthor = async (authorId: string): Promise<Book[]> => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('books')\r\n      .select('*')\r\n      .eq('author_id', authorId)\r\n      .order('published_at', { ascending: false });\r\n    \r\n    if (error) throw error;\r\n    \r\n    return (data || []).map(book => ({\r\n      id: book.id,\r\n      title: book.title,\r\n      authorName: book.author_name,\r\n      authorId: book.author_id,\r\n      price: book.price,\r\n      imageUrl: book.image_url,\r\n      description: book.description,\r\n      category: book.category,\r\n      coverType: book.cover_type,\r\n      stock: book.stock,\r\n      reorderPoint: book.reorder_point,\r\n      bookFileUrl: book.book_file_url,\r\n      publishedAt: book.published_at,\r\n      sales: book.sales,\r\n      revenue: book.revenue,\r\n      averageRating: book.average_rating,\r\n      totalReviews: book.total_reviews,\r\n    } as Book));\r\n  } catch (error) {\r\n    console.error('Error getting books by author:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getAllBooks = async (): Promise<Book[]> => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('books')\r\n      .select('*')\r\n      .order('published_at', { ascending: false });\r\n    \r\n    if (error) throw error;\r\n    \r\n    return (data || []).map(book => ({\r\n      id: book.id,\r\n      title: book.title,\r\n      authorName: book.author_name,\r\n      authorId: book.author_id,\r\n      price: book.price,\r\n      imageUrl: book.image_url,\r\n      description: book.description,\r\n      category: book.category,\r\n      coverType: book.cover_type,\r\n      stock: book.stock,\r\n      reorderPoint: book.reorder_point,\r\n      bookFileUrl: book.book_file_url,\r\n      publishedAt: book.published_at,\r\n      sales: book.sales,\r\n      revenue: book.revenue,\r\n      averageRating: book.average_rating,\r\n      totalReviews: book.total_reviews,\r\n    } as Book));\r\n  } catch (error) {\r\n    console.error('Error getting all books:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBookById = async (bookId: string): Promise<Book | null> => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('books')\r\n      .select('*')\r\n      .eq('id', bookId)\r\n      .single();\r\n    \r\n    if (error && error.code !== 'PGRST116') throw error;\r\n    if (!data) return null;\r\n    \r\n    return {\r\n      id: data.id,\r\n      title: data.title,\r\n      authorName: data.author_name,\r\n      authorId: data.author_id,\r\n      price: data.price,\r\n      imageUrl: data.image_url,\r\n      description: data.description,\r\n      category: data.category,\r\n      coverType: data.cover_type,\r\n      stock: data.stock,\r\n      reorderPoint: data.reorder_point,\r\n      bookFileUrl: data.book_file_url,\r\n      publishedAt: data.published_at,\r\n      sales: data.sales,\r\n      revenue: data.revenue,\r\n      averageRating: data.average_rating,\r\n      totalReviews: data.total_reviews,\r\n    } as Book;\r\n  } catch (error) {\r\n    console.error('Error getting book by ID:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateBook = async (bookId: string, updates: Partial<Book>) => {\r\n  try {\r\n    const updateData: any = {};\r\n    if (updates.title) updateData.title = updates.title;\r\n    if (updates.authorName) updateData.author_name = updates.authorName;\r\n    if (updates.price !== undefined) updateData.price = updates.price;\r\n    if (updates.imageUrl) updateData.image_url = updates.imageUrl;\r\n    if (updates.description) updateData.description = updates.description;\r\n    if (updates.category) updateData.category = updates.category;\r\n    if (updates.coverType) updateData.cover_type = updates.coverType;\r\n    if (updates.stock !== undefined) updateData.stock = updates.stock;\r\n    if (updates.reorderPoint !== undefined) updateData.reorder_point = updates.reorderPoint;\r\n    if (updates.bookFileUrl) updateData.book_file_url = updates.bookFileUrl;\r\n    if (updates.sales !== undefined) updateData.sales = updates.sales;\r\n    if (updates.revenue !== undefined) updateData.revenue = updates.revenue;\r\n    if (updates.averageRating !== undefined) updateData.average_rating = updates.averageRating;\r\n    if (updates.totalReviews !== undefined) updateData.total_reviews = updates.totalReviews;\r\n    \r\n    updateData.updated_at = new Date().toISOString();\r\n    \r\n    const { error } = await supabase\r\n      .from('books')\r\n      .update(updateData)\r\n      .eq('id', bookId);\r\n    \r\n    if (error) throw error;\r\n  } catch (error) {\r\n    console.error('Error updating book:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Order Management\r\nexport const createOrder = async (orderData: Omit<Order, 'id'>) => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('orders')\r\n      .insert({\r\n        user_id: orderData.userId,\r\n        books: orderData.books,\r\n        total_amount: orderData.totalAmount,\r\n        status: orderData.status,\r\n        payment_method: orderData.paymentMethod,\r\n        payment_gateway: orderData.paymentGateway,\r\n        payment_id: orderData.paymentId,\r\n        order_id: orderData.orderId,\r\n        shipping_address: orderData.shippingAddress,\r\n      })\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw error;\r\n    return data.id;\r\n  } catch (error) {\r\n    console.error('Error creating order:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateOrderStatus = async (orderId: string, status: Order['status'], paymentId?: string) => {\r\n  try {\r\n    const updates: any = { status };\r\n    if (paymentId) {\r\n      updates.payment_id = paymentId;\r\n    }\r\n    if (status === 'completed') {\r\n      updates.completed_at = new Date().toISOString();\r\n    }\r\n    \r\n    const { error } = await supabase\r\n      .from('orders')\r\n      .update(updates)\r\n      .eq('id', orderId);\r\n    \r\n    if (error) throw error;\r\n    \r\n    // If order is completed, update book sales and user purchased books\r\n    if (status === 'completed') {\r\n      const { data: order } = await supabase\r\n        .from('orders')\r\n        .select('*')\r\n        .eq('id', orderId)\r\n        .single();\r\n      \r\n      if (order) {\r\n        // Update each book's sales and revenue\r\n        for (const item of order.books) {\r\n          const { data: book } = await supabase\r\n            .from('books')\r\n            .select('sales, revenue, stock, author_id')\r\n            .eq('id', item.bookId)\r\n            .single();\r\n          \r\n          if (book) {\r\n            await supabase\r\n              .from('books')\r\n              .update({\r\n                sales: (book.sales || 0) + item.quantity,\r\n                revenue: (book.revenue || 0) + (item.price * item.quantity),\r\n                stock: (book.stock || 0) - item.quantity\r\n              })\r\n              .eq('id', item.bookId);\r\n            \r\n            // Update author stats\r\n            const { data: author } = await supabase\r\n              .from('users')\r\n              .select('total_sales, total_revenue')\r\n              .eq('id', book.author_id)\r\n              .single();\r\n            \r\n            if (author) {\r\n              await supabase\r\n                .from('users')\r\n                .update({\r\n                  total_sales: (author.total_sales || 0) + item.quantity,\r\n                  total_revenue: (author.total_revenue || 0) + (item.price * item.quantity)\r\n                })\r\n                .eq('id', book.author_id);\r\n            }\r\n          }\r\n        }\r\n        \r\n        // Update user's purchased books\r\n        const purchasedBookIds = order.books.map((item: any) => item.bookId);\r\n        const { data: user } = await supabase\r\n          .from('users')\r\n          .select('purchased_books')\r\n          .eq('id', order.user_id)\r\n          .single();\r\n        \r\n        if (user) {\r\n          const updatedPurchasedBooks = [...(user.purchased_books || []), ...purchasedBookIds];\r\n          await supabase\r\n            .from('users')\r\n            .update({ purchased_books: updatedPurchasedBooks })\r\n            .eq('id', order.user_id);\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Error updating order status:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserOrders = async (userId: string): Promise<Order[]> => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('orders')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false });\r\n    \r\n    if (error) throw error;\r\n    \r\n    return (data || []).map(order => ({\r\n      id: order.id,\r\n      userId: order.user_id,\r\n      books: order.books,\r\n      totalAmount: order.total_amount,\r\n      status: order.status,\r\n      paymentMethod: order.payment_method,\r\n      paymentGateway: order.payment_gateway,\r\n      paymentId: order.payment_id,\r\n      orderId: order.order_id,\r\n      createdAt: order.created_at,\r\n      completedAt: order.completed_at,\r\n      shippingAddress: order.shipping_address,\r\n    } as Order));\r\n  } catch (error) {\r\n    console.error('Error getting user orders:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Review Management\r\nexport const createReview = async (reviewData: Omit<Review, 'id'>) => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('reviews')\r\n      .insert({\r\n        book_id: reviewData.bookId,\r\n        user_id: reviewData.userId,\r\n        username: reviewData.username,\r\n        rating: reviewData.rating,\r\n        comment: reviewData.comment,\r\n        author_reply: reviewData.authorReply,\r\n        reader_follow_up: reviewData.readerFollowUp,\r\n      })\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw error;\r\n    \r\n    // Update book's review stats\r\n    const { data: reviews } = await supabase\r\n      .from('reviews')\r\n      .select('rating')\r\n      .eq('book_id', reviewData.bookId);\r\n    \r\n    if (reviews) {\r\n      const totalRating = reviews.reduce((sum, review) => sum + review.rating, 0);\r\n      const totalReviews = reviews.length;\r\n      const averageRating = totalRating / totalReviews;\r\n      \r\n      await supabase\r\n        .from('books')\r\n        .update({\r\n          total_reviews: totalReviews,\r\n          average_rating: averageRating\r\n        })\r\n        .eq('id', reviewData.bookId);\r\n    }\r\n    \r\n    return data.id;\r\n  } catch (error) {\r\n    console.error('Error creating review:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBookReviews = async (bookId: string): Promise<Review[]> => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('reviews')\r\n      .select('*')\r\n      .eq('book_id', bookId)\r\n      .order('created_at', { ascending: false });\r\n    \r\n    if (error) throw error;\r\n    \r\n    return (data || []).map(review => ({\r\n      id: review.id,\r\n      bookId: review.book_id,\r\n      userId: review.user_id,\r\n      username: review.username,\r\n      rating: review.rating,\r\n      comment: review.comment,\r\n      createdAt: review.created_at,\r\n      authorReply: review.author_reply,\r\n      readerFollowUp: review.reader_follow_up,\r\n    } as Review));\r\n  } catch (error) {\r\n    console.error('Error getting book reviews:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateReview = async (reviewId: string, updates: Partial<Review>) => {\r\n  try {\r\n    const updateData: any = {};\r\n    if (updates.rating !== undefined) updateData.rating = updates.rating;\r\n    if (updates.comment) updateData.comment = updates.comment;\r\n    if (updates.authorReply !== undefined) updateData.author_reply = updates.authorReply;\r\n    if (updates.readerFollowUp !== undefined) updateData.reader_follow_up = updates.readerFollowUp;\r\n    \r\n    const { error } = await supabase\r\n      .from('reviews')\r\n      .update(updateData)\r\n      .eq('id', reviewId);\r\n    \r\n    if (error) throw error;\r\n  } catch (error) {\r\n    console.error('Error updating review:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Follow Management\r\nexport const followAuthor = async (readerId: string, authorId: string) => {\r\n  try {\r\n    // Check if already following\r\n    const { data: existingFollow } = await supabase\r\n      .from('follows')\r\n      .select('id')\r\n      .eq('reader_id', readerId)\r\n      .eq('author_id', authorId)\r\n      .single();\r\n    \r\n    if (existingFollow) {\r\n      throw new Error('Already following this author');\r\n    }\r\n    \r\n    const { data, error } = await supabase\r\n      .from('follows')\r\n      .insert({\r\n        reader_id: readerId,\r\n        author_id: authorId,\r\n      })\r\n      .select()\r\n      .single();\r\n    \r\n    if (error) throw error;\r\n    \r\n    // Update reader's followed authors\r\n    const { data: user } = await supabase\r\n      .from('users')\r\n      .select('followed_authors')\r\n      .eq('id', readerId)\r\n      .single();\r\n    \r\n    if (user) {\r\n      const updatedFollowedAuthors = [...(user.followed_authors || []), authorId];\r\n      await supabase\r\n        .from('users')\r\n        .update({ followed_authors: updatedFollowedAuthors })\r\n        .eq('id', readerId);\r\n    }\r\n    \r\n    return data.id;\r\n  } catch (error) {\r\n    console.error('Error following author:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const unfollowAuthor = async (readerId: string, authorId: string) => {\r\n  try {\r\n    const { error } = await supabase\r\n      .from('follows')\r\n      .delete()\r\n      .eq('reader_id', readerId)\r\n      .eq('author_id', authorId);\r\n    \r\n    if (error) throw error;\r\n    \r\n    // Update reader's followed authors\r\n    const { data: user } = await supabase\r\n      .from('users')\r\n      .select('followed_authors')\r\n      .eq('id', readerId)\r\n      .single();\r\n    \r\n    if (user) {\r\n      const updatedFollowedAuthors = (user.followed_authors || []).filter((id: string) => id !== authorId);\r\n      await supabase\r\n        .from('users')\r\n        .update({ followed_authors: updatedFollowedAuthors })\r\n        .eq('id', readerId);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error unfollowing author:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getAuthorFollowers = async (authorId: string): Promise<Follow[]> => {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('follows')\r\n      .select('*')\r\n      .eq('author_id', authorId);\r\n    \r\n    if (error) throw error;\r\n    \r\n    return (data || []).map(follow => ({\r\n      id: follow.id,\r\n      readerId: follow.reader_id,\r\n      authorId: follow.author_id,\r\n      followedAt: follow.followed_at,\r\n    } as Follow));\r\n  } catch (error) {\r\n    console.error('Error getting author followers:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Check if user has purchased a book\r\nexport const hasUserPurchasedBook = async (userId: string, bookId: string): Promise<boolean> => {\r\n  try {\r\n    const user = await getUserById(userId);\r\n    return user?.purchasedBooks?.includes(bookId) || false;\r\n  } catch (error) {\r\n    console.error('Error checking book purchase:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Analytics\r\nexport const getAuthorAnalytics = async (authorId: string): Promise<AuthorAnalytics | null> => {\r\n  try {\r\n    // For Supabase, we'll calculate analytics on demand from the users table\r\n    const { data: user, error } = await supabase\r\n      .from('users')\r\n      .select('total_books, total_sales, total_revenue')\r\n      .eq('id', authorId)\r\n      .single();\r\n    \r\n    if (error && error.code !== 'PGRST116') throw error;\r\n    if (!user) return null;\r\n    \r\n    // Get additional analytics from books table\r\n    const { data: books } = await supabase\r\n      .from('books')\r\n      .select('sales, revenue, average_rating')\r\n      .eq('author_id', authorId);\r\n    \r\n    const topBook = books?.reduce((prev, current) => \r\n      (prev.sales > current.sales) ? prev : current\r\n    );\r\n    \r\n    return {\r\n      authorId,\r\n      totalBooks: user.total_books || 0,\r\n      totalSales: user.total_sales || 0,\r\n      totalRevenue: user.total_revenue || 0,\r\n      averageRating: books?.reduce((sum, book) => sum + (book.average_rating || 0), 0) / (books?.length || 1) || 0,\r\n      topSellingBook: topBook ? {\r\n        title: '', // We'd need to join with book details\r\n        sales: topBook.sales || 0\r\n      } : undefined,\r\n      monthlyStats: [], // This would require more complex queries\r\n      lastUpdated: new Date().toISOString(),\r\n    } as AuthorAnalytics;\r\n  } catch (error) {\r\n    console.error('Error getting author analytics:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateAuthorAnalytics = async (authorId: string, updates: Partial<AuthorAnalytics>) => {\r\n  try {\r\n    // In Supabase, we update the user record directly\r\n    const updateData: any = {};\r\n    if (updates.totalBooks !== undefined) updateData.total_books = updates.totalBooks;\r\n    if (updates.totalSales !== undefined) updateData.total_sales = updates.totalSales;\r\n    if (updates.totalRevenue !== undefined) updateData.total_revenue = updates.totalRevenue;\r\n    \r\n    if (Object.keys(updateData).length > 0) {\r\n      updateData.updated_at = new Date().toISOString();\r\n      \r\n      const { error } = await supabase\r\n        .from('users')\r\n        .update(updateData)\r\n        .eq('id', authorId);\r\n      \r\n      if (error) throw error;\r\n    }\r\n  } catch (error) {\r\n    console.error('Error updating author analytics:', error);\r\n    throw error;\r\n  }\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/lib/auth.ts"],"sourcesContent":["import { supabase, isSupabaseConfigured } from './supabase';\r\nimport { createUser, getUserByEmail } from './database';\r\nimport { User, UserRole, AuthUser } from './types';\r\nimport bcrypt from 'bcryptjs';\r\nimport jwt from 'jsonwebtoken';\r\nimport { AuthError, User as SupabaseUser } from '@supabase/supabase-js';\r\n\r\n// Register a new user\r\nexport const registerUser = async (\r\n  email: string, \r\n  password: string, \r\n  firstName: string, \r\n  lastName: string, \r\n  role: UserRole\r\n): Promise<AuthUser> => {\r\n  try {\r\n    // Check if Supabase is configured\r\n    if (!isSupabaseConfigured) {\r\n      // For development without Supabase, simulate user creation\r\n      console.warn('Supabase not configured. Using mock authentication.');\r\n      \r\n      // Check if user already exists (mock)\r\n      const existingUser = await getUserByEmail(email);\r\n      if (existingUser) {\r\n        throw new Error('User with this email already exists');\r\n      }\r\n\r\n      // Create mock user\r\n      const mockUserId = `mock_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n      const hashedPassword = await bcrypt.hash(password, 12);\r\n      \r\n      const userData: Omit<User, 'id'> = {\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        password: hashedPassword,\r\n        role,\r\n        createdAt: new Date(),\r\n        isActive: true,\r\n      };\r\n\r\n      await createUser(userData);\r\n\r\n      return {\r\n        uid: mockUserId,\r\n        email,\r\n        role,\r\n        firstName,\r\n        lastName,\r\n      };\r\n    }\r\n\r\n    // Check if user already exists\r\n    const existingUser = await getUserByEmail(email);\r\n    if (existingUser) {\r\n      throw new Error('User with this email already exists');\r\n    }\r\n\r\n    // Create user with Supabase Auth\r\n    const { data: authData, error: authError } = await supabase.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n        data: {\r\n          first_name: firstName,\r\n          last_name: lastName,\r\n          role: role,\r\n        }\r\n      }\r\n    });\r\n\r\n    if (authError) throw authError;\r\n    if (!authData.user) throw new Error('Failed to create user');\r\n\r\n    // Hash password for database storage\r\n    const hashedPassword = await bcrypt.hash(password, 12);\r\n\r\n    // Create user document in Supabase database\r\n    const userData: Omit<User, 'id'> = {\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password: hashedPassword,\r\n      role,\r\n      createdAt: new Date(),\r\n      isActive: true,\r\n    };\r\n\r\n    await createUser(userData);\r\n\r\n    return {\r\n      uid: authData.user.id,\r\n      email: authData.user.email!,\r\n      role,\r\n      firstName,\r\n      lastName,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error registering user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Sign in user\r\nexport const signInUser = async (email: string, password: string): Promise<AuthUser> => {\r\n  try {\r\n    // Get user from database to check role and status\r\n    const user = await getUserByEmail(email);\r\n    if (!user) {\r\n      throw new Error('User not found');\r\n    }\r\n\r\n    if (!user.isActive) {\r\n      throw new Error('Account is deactivated');\r\n    }\r\n\r\n    // Verify password\r\n    const isPasswordValid = await bcrypt.compare(password, user.password);\r\n    if (!isPasswordValid) {\r\n      throw new Error('Invalid password');\r\n    }\r\n\r\n    // If Supabase is configured, sign in with Supabase Auth\r\n    if (isSupabaseConfigured) {\r\n      const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\r\n        email,\r\n        password,\r\n      });\r\n\r\n      if (authError) {\r\n        console.warn('Supabase auth error:', authError.message);\r\n        // Continue with mock auth if Supabase fails\r\n      } else if (authData.user) {\r\n        return {\r\n          uid: authData.user.id,\r\n          email: authData.user.email!,\r\n          role: user.role,\r\n          firstName: user.firstName,\r\n          lastName: user.lastName,\r\n        };\r\n      }\r\n    }\r\n\r\n    // Mock authentication for development\r\n    console.warn('Using mock authentication.');\r\n    const mockUserId = `mock_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n    \r\n    return {\r\n      uid: mockUserId,\r\n      email: user.email,\r\n      role: user.role,\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error signing in user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Sign out user\r\nexport const signOutUser = async (): Promise<void> => {\r\n  try {\r\n    if (isSupabaseConfigured) {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) throw error;\r\n    } else {\r\n      console.warn('Using mock sign out.');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error signing out user:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Get current user session\r\nexport const getCurrentUser = async (): Promise<SupabaseUser | null> => {\r\n  try {\r\n    const { data: { user }, error } = await supabase.auth.getUser();\r\n    if (error) throw error;\r\n    return user;\r\n  } catch (error) {\r\n    console.error('Error getting current user:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Generate JWT token\r\nexport const generateJWTToken = (user: AuthUser): string => {\r\n  const payload = {\r\n    uid: user.uid,\r\n    email: user.email,\r\n    role: user.role,\r\n    firstName: user.firstName,\r\n    lastName: user.lastName,\r\n  };\r\n\r\n  return jwt.sign(payload, process.env.JWT_SECRET!, {\r\n    expiresIn: '24h',\r\n  });\r\n};\r\n\r\n// Verify JWT token\r\nexport const verifyJWTToken = (token: string): AuthUser => {\r\n  try {\r\n    const decoded = jwt.verify(token, process.env.JWT_SECRET!) as AuthUser;\r\n    return decoded;\r\n  } catch (error) {\r\n    throw new Error('Invalid token');\r\n  }\r\n};\r\n\r\n// Auth state listener using Supabase\r\nexport const onAuthStateChange = (callback: (user: SupabaseUser | null) => void) => {\r\n  if (!isSupabaseConfigured) {\r\n    // Mock implementation for development\r\n    console.warn('Supabase not configured. Using mock auth state listener.');\r\n    \r\n    // Return a mock unsubscribe function\r\n    return () => {\r\n      console.log('Mock auth state listener unsubscribed');\r\n    };\r\n  }\r\n\r\n  const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n    callback(session?.user || null);\r\n  });\r\n\r\n  // Return unsubscribe function\r\n  return () => {\r\n    subscription.unsubscribe();\r\n  };\r\n};\r\n\r\n// Validate password strength\r\nexport const validatePassword = (password: string): boolean => {\r\n  // At least 8 characters, 1 uppercase, 1 lowercase, 1 number\r\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,}$/;\r\n  return passwordRegex.test(password);\r\n};\r\n\r\n// Validate email format\r\nexport const validateEmail = (email: string): boolean => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\n// Hash password\r\nexport const hashPassword = async (password: string): Promise<string> => {\r\n  return await bcrypt.hash(password, 12);\r\n};\r\n\r\n// Compare password\r\nexport const comparePassword = async (password: string, hashedPassword: string): Promise<boolean> => {\r\n  return await bcrypt.compare(password, hashedPassword);\r\n};"],"names":[],"mappings":";;;;;;;;;;;;;AAqM2B;AArM3B;AACA;AAEA;AACA;;;;;AAIO,MAAM,eAAe,OAC1B,OACA,UACA,WACA,UACA;IAEA,IAAI;QACF,kCAAkC;QAClC,IAAI,CAAC,yHAAA,CAAA,uBAAoB,EAAE;YACzB,2DAA2D;YAC3D,QAAQ,IAAI,CAAC;YAEb,sCAAsC;YACtC,MAAM,eAAe,MAAM,CAAA,GAAA,yHAAA,CAAA,iBAAc,AAAD,EAAE;YAC1C,IAAI,cAAc;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,mBAAmB;YACnB,MAAM,aAAa,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;YAClF,MAAM,iBAAiB,MAAM,oIAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU;YAEnD,MAAM,WAA6B;gBACjC;gBACA;gBACA;gBACA,UAAU;gBACV;gBACA,WAAW,IAAI;gBACf,UAAU;YACZ;YAEA,MAAM,CAAA,GAAA,yHAAA,CAAA,aAAU,AAAD,EAAE;YAEjB,OAAO;gBACL,KAAK;gBACL;gBACA;gBACA;gBACA;YACF;QACF;QAEA,+BAA+B;QAC/B,MAAM,eAAe,MAAM,CAAA,GAAA,yHAAA,CAAA,iBAAc,AAAD,EAAE;QAC1C,IAAI,cAAc;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,iCAAiC;QACjC,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,yHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YACtE;YACA;YACA,SAAS;gBACP,MAAM;oBACJ,YAAY;oBACZ,WAAW;oBACX,MAAM;gBACR;YACF;QACF;QAEA,IAAI,WAAW,MAAM;QACrB,IAAI,CAAC,SAAS,IAAI,EAAE,MAAM,IAAI,MAAM;QAEpC,qCAAqC;QACrC,MAAM,iBAAiB,MAAM,oIAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU;QAEnD,4CAA4C;QAC5C,MAAM,WAA6B;YACjC;YACA;YACA;YACA,UAAU;YACV;YACA,WAAW,IAAI;YACf,UAAU;QACZ;QAEA,MAAM,CAAA,GAAA,yHAAA,CAAA,aAAU,AAAD,EAAE;QAEjB,OAAO;YACL,KAAK,SAAS,IAAI,CAAC,EAAE;YACrB,OAAO,SAAS,IAAI,CAAC,KAAK;YAC1B;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACR;AACF;AAGO,MAAM,aAAa,OAAO,OAAe;IAC9C,IAAI;QACF,kDAAkD;QAClD,MAAM,OAAO,MAAM,CAAA,GAAA,yHAAA,CAAA,iBAAc,AAAD,EAAE;QAClC,IAAI,CAAC,MAAM;YACT,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI,CAAC,KAAK,QAAQ,EAAE;YAClB,MAAM,IAAI,MAAM;QAClB;QAEA,kBAAkB;QAClB,MAAM,kBAAkB,MAAM,oIAAA,CAAA,UAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;QACpE,IAAI,CAAC,iBAAiB;YACpB,MAAM,IAAI,MAAM;QAClB;QAEA,wDAAwD;QACxD,IAAI,yHAAA,CAAA,uBAAoB,EAAE;YACxB,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,yHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;gBAClF;gBACA;YACF;YAEA,IAAI,WAAW;gBACb,QAAQ,IAAI,CAAC,wBAAwB,UAAU,OAAO;YACtD,4CAA4C;YAC9C,OAAO,IAAI,SAAS,IAAI,EAAE;gBACxB,OAAO;oBACL,KAAK,SAAS,IAAI,CAAC,EAAE;oBACrB,OAAO,SAAS,IAAI,CAAC,KAAK;oBAC1B,MAAM,KAAK,IAAI;oBACf,WAAW,KAAK,SAAS;oBACzB,UAAU,KAAK,QAAQ;gBACzB;YACF;QACF;QAEA,sCAAsC;QACtC,QAAQ,IAAI,CAAC;QACb,MAAM,aAAa,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;QAElF,OAAO;YACL,KAAK;YACL,OAAO,KAAK,KAAK;YACjB,MAAM,KAAK,IAAI;YACf,WAAW,KAAK,SAAS;YACzB,UAAU,KAAK,QAAQ;QACzB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,MAAM;IACR;AACF;AAGO,MAAM,cAAc;IACzB,IAAI;QACF,IAAI,yHAAA,CAAA,uBAAoB,EAAE;YACxB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,yHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;YAC7C,IAAI,OAAO,MAAM;QACnB,OAAO;YACL,QAAQ,IAAI,CAAC;QACf;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACR;AACF;AAGO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,GAAG,MAAM,yHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;QAC7D,IAAI,OAAO,MAAM;QACjB,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;IACT;AACF;AAGO,MAAM,mBAAmB,CAAC;IAC/B,MAAM,UAAU;QACd,KAAK,KAAK,GAAG;QACb,OAAO,KAAK,KAAK;QACjB,MAAM,KAAK,IAAI;QACf,WAAW,KAAK,SAAS;QACzB,UAAU,KAAK,QAAQ;IACzB;IAEA,OAAO,wIAAA,CAAA,UAAG,CAAC,IAAI,CAAC,SAAS,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,UAAU,EAAG;QAChD,WAAW;IACb;AACF;AAGO,MAAM,iBAAiB,CAAC;IAC7B,IAAI;QACF,MAAM,UAAU,wIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,UAAU;QACxD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,MAAM,oBAAoB,CAAC;IAChC,IAAI,CAAC,yHAAA,CAAA,uBAAoB,EAAE;QACzB,sCAAsC;QACtC,QAAQ,IAAI,CAAC;QAEb,qCAAqC;QACrC,OAAO;YACL,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,yHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;QAC1E,SAAS,SAAS,QAAQ;IAC5B;IAEA,8BAA8B;IAC9B,OAAO;QACL,aAAa,WAAW;IAC1B;AACF;AAGO,MAAM,mBAAmB,CAAC;IAC/B,4DAA4D;IAC5D,MAAM,gBAAgB;IACtB,OAAO,cAAc,IAAI,CAAC;AAC5B;AAGO,MAAM,gBAAgB,CAAC;IAC5B,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAGO,MAAM,eAAe,OAAO;IACjC,OAAO,MAAM,oIAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU;AACrC;AAGO,MAAM,kBAAkB,OAAO,UAAkB;IACtD,OAAO,MAAM,oIAAA,CAAA,UAAM,CAAC,OAAO,CAAC,UAAU;AACxC","debugId":null}},
    {"offset": {"line": 3441, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajde/OneDrive/Desktop/Book_Store_Management/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { onAuthStateChange } from '@/lib/auth';\r\nimport { getUserById } from '@/lib/database';\r\nimport { AuthUser, User } from '@/lib/types';\r\nimport { User as SupabaseUser } from '@supabase/supabase-js';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  authUser: AuthUser | null;\r\n  loading: boolean;\r\n  logout: () => Promise<void>;\r\n  refreshUser: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [authUser, setAuthUser] = useState<AuthUser | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check localStorage for user data\r\n    const storedUser = localStorage.getItem('currentUser');\r\n    if (storedUser) {\r\n      try {\r\n        const userData = JSON.parse(storedUser);\r\n        setAuthUser(userData);\r\n        // Fetch full user data from database\r\n        fetchUserData(userData.uid);\r\n      } catch (error) {\r\n        console.error('Error parsing stored user data:', error);\r\n        localStorage.removeItem('currentUser');\r\n      }\r\n    }\r\n\r\n    // Listen for Supabase auth state changes\r\n    const unsubscribe = onAuthStateChange(async (supabaseUser: SupabaseUser | null) => {\r\n      if (supabaseUser) {\r\n        // User is signed in\r\n        try {\r\n          const userData = await getUserById(supabaseUser.id);\r\n          if (userData) {\r\n            setUser(userData);\r\n            const authUserData: AuthUser = {\r\n              uid: supabaseUser.id,\r\n              email: supabaseUser.email!,\r\n              role: userData.role,\r\n              firstName: userData.firstName,\r\n              lastName: userData.lastName,\r\n            };\r\n            setAuthUser(authUserData);\r\n            localStorage.setItem('currentUser', JSON.stringify(authUserData));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching user data:', error);\r\n        }\r\n      } else {\r\n        // User is signed out\r\n        setUser(null);\r\n        setAuthUser(null);\r\n        localStorage.removeItem('currentUser');\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    // Listen for storage events (for logout from other tabs)\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === 'currentUser' && e.newValue === null) {\r\n        setUser(null);\r\n        setAuthUser(null);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    return () => {\r\n      unsubscribe();\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n\r\n  const fetchUserData = async (userId: string) => {\r\n    try {\r\n      const userData = await getUserById(userId);\r\n      if (userData) {\r\n        setUser(userData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshUser = async () => {\r\n    if (authUser) {\r\n      await fetchUserData(authUser.uid);\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      const response = await fetch('/api/auth/logout', {\r\n        method: 'POST',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setUser(null);\r\n        setAuthUser(null);\r\n        localStorage.removeItem('currentUser');\r\n        // Dispatch storage event for other tabs\r\n        window.dispatchEvent(new StorageEvent('storage', {\r\n          key: 'currentUser',\r\n          newValue: null,\r\n          oldValue: localStorage.getItem('currentUser'),\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      user,\r\n      authUser,\r\n      loading,\r\n      logout,\r\n      refreshUser,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\n// Hook for checking if user has specific role\r\nexport function useRole(requiredRole: string) {\r\n  const { authUser } = useAuth();\r\n  return authUser?.role === requiredRole;\r\n}\r\n\r\n// Hook for checking if user is authenticated\r\nexport function useIsAuthenticated() {\r\n  const { authUser } = useAuth();\r\n  return !!authUser;\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}